<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 4.2.1">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"yonglife.com","root":"/","scheme":"Mist","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"always","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"path":"search.xml"};
  </script>

  <meta name="description" content="Leetcode">
<meta property="og:type" content="article">
<meta property="og:title" content="Leetcode roadmap">
<meta property="og:url" content="http://yonglife.com/2020/07/04/leetcode-roadmap/index.html">
<meta property="og:site_name" content="Yong&#39;s Blog">
<meta property="og:description" content="Leetcode">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="http://yonglife.com/images/leetcode_roadmap.png">
<meta property="article:published_time" content="2020-07-04T19:16:53.000Z">
<meta property="article:modified_time" content="2020-09-13T18:38:17.470Z">
<meta property="article:author" content="Yong Cao">
<meta property="article:tag" content="Algorithm">
<meta property="article:tag" content="Leetcode">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://yonglife.com/images/leetcode_roadmap.png">

<link rel="canonical" href="http://yonglife.com/2020/07/04/leetcode-roadmap/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'en'
  };
</script>

  <title>Leetcode roadmap | Yong's Blog</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">Yong's Blog</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>Tags</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>Categories</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives</a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>Search
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off"
           placeholder="Searching..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result">
  <div id="no-result">
    <i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>
  </div>
</div>

    </div>
  </div>

</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content post posts-expand">
            

    
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://yonglife.com/2020/07/04/leetcode-roadmap/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/headImage.jpg">
      <meta itemprop="name" content="Yong Cao">
      <meta itemprop="description" content="Record . Grow . Evolve">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Yong's Blog">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          Leetcode roadmap
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2020-07-04 12:16:53" itemprop="dateCreated datePublished" datetime="2020-07-04T12:16:53-07:00">2020-07-04</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2020-09-13 11:38:17" itemprop="dateModified" datetime="2020-09-13T11:38:17-07:00">2020-09-13</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Program/" itemprop="url" rel="index"><span itemprop="name">Program</span></a>
                </span>
            </span>

          
            <span id="/2020/07/04/leetcode-roadmap/" class="post-meta-item leancloud_visitors" data-flag-title="Leetcode roadmap" title="Views">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">Views: </span>
              <span class="leancloud-visitors-count"></span>
            </span>
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valine: </span>
    
    <a title="valine" href="/2020/07/04/leetcode-roadmap/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2020/07/04/leetcode-roadmap/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <h1 id="Leetcode"><a href="#Leetcode" class="headerlink" title="Leetcode"></a>Leetcode</h1><p><img src="/images/leetcode_roadmap.png" alt="image"></p>
<a id="more"></a>
<h2 id="List"><a href="#List" class="headerlink" title="List"></a>List</h2><blockquote>
<p>Tricks  </p>
</blockquote>
<ol>
<li><code>Counter()</code> can be used to create a <code>defaultdict(int)</code></li>
</ol>
<h3 id="I-do-not-know…"><a href="#I-do-not-know…" class="headerlink" title="I do not know…."></a>I do not know….</h3><ul>
<li><ol>
<li><p>String Compression</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span>  </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">repeatedSubstringPattern</span><span class="params">(self, s: str)</span> -&gt; bool:</span>  </span><br><span class="line">        <span class="keyword">return</span> s <span class="keyword">in</span> (s*<span class="number">2</span>)[<span class="number">1</span>:<span class="number">-1</span>]</span><br></pre></td></tr></table></figure>
</li>
</ol>
</li>
<li><ol>
<li><p>Repeated String Match</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span>  </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">repeatedStringMatch</span><span class="params">(self, A: str, B: str)</span> -&gt; int:</span>  </span><br><span class="line">        time = (len(B) // len(A)) + (<span class="number">1</span> <span class="keyword">if</span> len(B) % len(A) <span class="keyword">else</span> <span class="number">0</span>)  </span><br><span class="line">        <span class="keyword">if</span> B <span class="keyword">in</span> A * time: <span class="keyword">return</span> time  </span><br><span class="line">        <span class="keyword">if</span> B <span class="keyword">in</span> A * (time+<span class="number">1</span>): <span class="keyword">return</span> time+<span class="number">1</span>  </span><br><span class="line">        <span class="keyword">return</span> <span class="number">-1</span></span><br></pre></td></tr></table></figure>
</li>
</ol>
</li>
</ul>
<h3 id="Pure-programming"><a href="#Pure-programming" class="headerlink" title="Pure programming"></a>Pure programming</h3><ul>
<li><ol>
<li><p>Find and Replace Pattern</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span>  </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">findAndReplacePattern</span><span class="params">(self, words: List[str], pattern: str)</span> -&gt; List[str]:</span>  </span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">is_valid</span><span class="params">(word)</span>:</span>  </span><br><span class="line">            <span class="keyword">if</span> len(word) != len(pattern):  </span><br><span class="line">                <span class="keyword">return</span> <span class="literal">False</span>  </span><br><span class="line">            d_12, d_21 = &#123;&#125;, &#123;&#125;  </span><br><span class="line">            <span class="keyword">for</span> c1, c2 <span class="keyword">in</span> zip(word, pattern):  </span><br><span class="line">                <span class="keyword">if</span> c1 <span class="keyword">not</span> <span class="keyword">in</span> d_12:  </span><br><span class="line">                    <span class="keyword">if</span> c2 <span class="keyword">in</span> d_21:  </span><br><span class="line">                        <span class="keyword">return</span> <span class="literal">False</span>  </span><br><span class="line">                    d_12[c1] = c2  </span><br><span class="line">                    d_21[c2] = c1  </span><br><span class="line">                <span class="keyword">elif</span> d_12[c1] != c2:  </span><br><span class="line">                    <span class="keyword">return</span> <span class="literal">False</span>  </span><br><span class="line">            <span class="keyword">return</span> <span class="literal">True</span>  </span><br><span class="line">        rst = []  </span><br><span class="line">        <span class="keyword">for</span> word <span class="keyword">in</span> words:  </span><br><span class="line">            <span class="keyword">if</span> is_valid(word):  </span><br><span class="line">                rst.append(word)  </span><br><span class="line">        <span class="keyword">return</span> rst</span><br></pre></td></tr></table></figure>
</li>
</ol>
</li>
<li><ol>
<li><p>Minimum Time Difference</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span>  </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">findMinDifference</span><span class="params">(self, timePoints: List[str])</span> -&gt; int:</span>  </span><br><span class="line">        times = sorted(int(time.split(<span class="string">':'</span>)[<span class="number">0</span>])*<span class="number">60</span>+int(time.split(<span class="string">':'</span>)[<span class="number">1</span>]) <span class="keyword">for</span> time <span class="keyword">in</span> timePoints)  </span><br><span class="line">        times.append(times[<span class="number">0</span>]+<span class="number">60</span>*<span class="number">24</span>)  </span><br><span class="line">        <span class="keyword">return</span> min(b-a <span class="keyword">for</span> a, b <span class="keyword">in</span> zip(times, times[<span class="number">1</span>:]))</span><br></pre></td></tr></table></figure>
</li>
</ol>
</li>
<li><ol>
<li><p>Valid Palindrome II</p>
<p><a href="https://leetcode.com/problems/valid-palindrome-ii/discuss/701203/Python-Concise-O(n" target="_blank" rel="noopener">https://leetcode.com/problems/valid-palindrome-ii/discuss/701203/Python-Concise-O(n</a>)</p>
</li>
</ol>
</li>
<li><ol>
<li>Reverse String II</li>
</ol>
</li>
<li><ol>
<li><p>Group Shifted Strings</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span>  </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">groupStrings</span><span class="params">(self, strings: List[str])</span> -&gt; List[List[str]]:</span>  </span><br><span class="line">          </span><br><span class="line">        d = defaultdict(list)  </span><br><span class="line">        <span class="keyword">for</span> s <span class="keyword">in</span> strings:  </span><br><span class="line">            delta = ord(s[<span class="number">0</span>]) - ord(<span class="string">'a'</span>)  </span><br><span class="line">            ss = <span class="string">''</span>.join(chr(<span class="number">97</span>+((ord(c)<span class="number">-97</span>-delta) % <span class="number">26</span>)) <span class="keyword">for</span> c <span class="keyword">in</span> s)  </span><br><span class="line">            d[ss].append(s)  </span><br><span class="line">        <span class="keyword">return</span> d.values()</span><br></pre></td></tr></table></figure>
</li>
</ol>
</li>
<li><ol>
<li><p>Substring with Concatenation of All Words</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span>  </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">findSubstring</span><span class="params">(self, s: str, words: List[str])</span> -&gt; List[int]:</span>  </span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> words:  </span><br><span class="line">            <span class="keyword">return</span> []  </span><br><span class="line">        c = Counter(words)  </span><br><span class="line">        size = len(words[<span class="number">0</span>])  </span><br><span class="line">        rst = []  </span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(len(s)+<span class="number">1</span>-size*len(words)):  </span><br><span class="line">            j, cc = i, c.copy()  </span><br><span class="line">            <span class="keyword">while</span> j &lt; i+size*len(words) <span class="keyword">and</span> s[j:j+size] <span class="keyword">in</span> c:  </span><br><span class="line">                cur_w = s[j:j+size]  </span><br><span class="line">                cc[cur_w] -= <span class="number">1</span>  </span><br><span class="line">                <span class="keyword">if</span> cc[cur_w] &lt; <span class="number">0</span>:  </span><br><span class="line">                    <span class="keyword">break</span>  </span><br><span class="line">                j += size  </span><br><span class="line">            <span class="keyword">if</span> all(v == <span class="number">0</span> <span class="keyword">for</span> v <span class="keyword">in</span> cc.values()):  </span><br><span class="line">                rst.append(i)  </span><br><span class="line">        <span class="keyword">return</span> rst</span><br></pre></td></tr></table></figure>
</li>
</ol>
</li>
<li><ol>
<li><p>Reverse Words in a String III</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span>  </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">reverseWords</span><span class="params">(self, s: str)</span> -&gt; str:</span>  </span><br><span class="line">        <span class="keyword">return</span> <span class="string">' '</span>.join(w[::<span class="number">-1</span>] <span class="keyword">for</span> w <span class="keyword">in</span> s.split())</span><br></pre></td></tr></table></figure>
</li>
</ol>
</li>
<li><ol>
<li><p>Add Strings</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span>  </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">addStrings</span><span class="params">(self, num1: str, num2: str)</span> -&gt; str:</span>  </span><br><span class="line">        rst = <span class="string">''</span>  </span><br><span class="line">        carry = <span class="literal">False</span>  </span><br><span class="line">        num1, num2 = list(num1), list(num2)  </span><br><span class="line">        <span class="keyword">while</span> num1 <span class="keyword">or</span> num2:  </span><br><span class="line">            cur = (int(num1.pop()) <span class="keyword">if</span> num1 <span class="keyword">else</span> <span class="number">0</span>) + (int(num2.pop()) <span class="keyword">if</span> num2 <span class="keyword">else</span> <span class="number">0</span>) + carry  </span><br><span class="line">            rst += str(cur % <span class="number">10</span>)  </span><br><span class="line">            carry = cur // <span class="number">10</span>  </span><br><span class="line">        <span class="keyword">if</span> carry:  </span><br><span class="line">            rst += <span class="string">'1'</span>  </span><br><span class="line">        <span class="keyword">return</span> rst[::<span class="number">-1</span>]</span><br></pre></td></tr></table></figure>
</li>
</ol>
</li>
<li><ol>
<li><p>Custom Sort String</p>
<p><a href="https://leetcode.com/problems/custom-sort-string/discuss/702725/Python-Concise-O(N)-%2B-Sort" target="_blank" rel="noopener">https://leetcode.com/problems/custom-sort-string/discuss/702725/Python-Concise-O(N)-%2B-Sort</a></p>
</li>
</ol>
</li>
<li><ol>
<li><p>String Compression</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span>  </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">compress</span><span class="params">(self, chars: List[str])</span> -&gt; int:</span>  </span><br><span class="line">        idx1, idx2, cnt = <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>  </span><br><span class="line">        chars.append(<span class="string">'0'</span>)  </span><br><span class="line">        <span class="keyword">for</span> i, c <span class="keyword">in</span> enumerate(chars):  </span><br><span class="line">            <span class="keyword">if</span> i != <span class="number">0</span> <span class="keyword">and</span> chars[i] != chars[i<span class="number">-1</span>]:  </span><br><span class="line">                chars[idx1] = chars[i<span class="number">-1</span>]  </span><br><span class="line">                idx1 += <span class="number">1</span>  </span><br><span class="line">                <span class="keyword">if</span> cnt == <span class="number">1</span>:  </span><br><span class="line">                    <span class="keyword">continue</span>  </span><br><span class="line">                <span class="keyword">for</span> cc <span class="keyword">in</span> str(cnt):  </span><br><span class="line">                    chars[idx1] = cc  </span><br><span class="line">                    idx1 += <span class="number">1</span>  </span><br><span class="line">                cnt = <span class="number">1</span>  </span><br><span class="line">            <span class="keyword">else</span>:  </span><br><span class="line">                cnt += <span class="number">1</span>  </span><br><span class="line">                  </span><br><span class="line">        <span class="keyword">return</span> idx1</span><br></pre></td></tr></table></figure>
</li>
</ol>
</li>
<li><ol>
<li>Multiply Strings</li>
</ol>
</li>
</ul>
<pre><code><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span>  </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">multiply</span><span class="params">(self, num1: str, num2: str)</span> -&gt; str:</span>  </span><br><span class="line">        <span class="keyword">if</span> num1 == <span class="string">'0'</span> <span class="keyword">or</span> num2 == <span class="string">'0'</span>: <span class="keyword">return</span> <span class="string">'0'</span>  </span><br><span class="line">        num1, num2 = num1[::<span class="number">-1</span>], num2[::<span class="number">-1</span>]  </span><br><span class="line">        m, n = len(num1), len(num2)  </span><br><span class="line">        rst = [<span class="number">0</span>] * (m+n)  </span><br><span class="line">        <span class="keyword">for</span> i1, v1 <span class="keyword">in</span> enumerate(num1):  </span><br><span class="line">            <span class="keyword">for</span> i2, v2 <span class="keyword">in</span> enumerate(num2):  </span><br><span class="line">                rst[i1+i2] += int(v1) * int(v2)  </span><br><span class="line">                rst[i1+i2+<span class="number">1</span>] += rst[i1+i2] // <span class="number">10</span>  </span><br><span class="line">                rst[i1+i2] %= <span class="number">10</span>  </span><br><span class="line">        <span class="keyword">while</span> rst[<span class="number">-1</span>] == <span class="number">0</span>:  </span><br><span class="line">            rst.pop()  </span><br><span class="line">        <span class="keyword">return</span> <span class="string">''</span>.join(map(str, rst))[::<span class="number">-1</span>]</span><br></pre></td></tr></table></figure>
</code></pre><ul>
<li><ol>
<li><p>One Edit Distance</p>
<p><a href="https://leetcode.com/problems/one-edit-distance/discuss/702870/Python-Concise-Understand-it-in-5-second" target="_blank" rel="noopener">https://leetcode.com/problems/one-edit-distance/discuss/702870/Python-Concise-Understand-it-in-5-second</a></p>
</li>
</ol>
</li>
<li><ol>
<li><p>Before and After Puzzle</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span>  </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">beforeAndAfterPuzzles</span><span class="params">(self, phrases: List[str])</span> -&gt; List[str]:</span>  </span><br><span class="line">        start = defaultdict(list)  </span><br><span class="line">        <span class="keyword">for</span> i, p <span class="keyword">in</span> enumerate(phrases):  </span><br><span class="line">            words = p.split()  </span><br><span class="line">            a, b = words[<span class="number">0</span>], <span class="string">' '</span>.join(words[<span class="number">1</span>:])  </span><br><span class="line">            start[a].append((i, b))  </span><br><span class="line">        ret = []  </span><br><span class="line">        <span class="keyword">for</span> i, p <span class="keyword">in</span> enumerate(phrases):  </span><br><span class="line">            words = p.split()  </span><br><span class="line">            ret += [(p + (<span class="string">f' <span class="subst">&#123;w&#125;</span>'</span> <span class="keyword">if</span> w <span class="keyword">else</span> <span class="string">''</span>)) <span class="keyword">for</span> j, w <span class="keyword">in</span> start[words[<span class="number">-1</span>]] <span class="keyword">if</span> i != j]  </span><br><span class="line">        <span class="keyword">return</span> sorted(set(ret))</span><br></pre></td></tr></table></figure>
</li>
</ol>
</li>
<li><ol>
<li><p>Group Anagrams</p>
<p><a href="https://leetcode.com/problems/group-anagrams/discuss/681219/Python-Concise-O(N)-no-need-to-sort-str" target="_blank" rel="noopener">https://leetcode.com/problems/group-anagrams/discuss/681219/Python-Concise-O(N)-no-need-to-sort-str</a></p>
</li>
</ol>
</li>
<li><ol>
<li><p>Add Binary</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span>  </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">addBinary</span><span class="params">(self, a: str, b: str)</span> -&gt; str:</span>  </span><br><span class="line">        a, b = list(a), list(b)  </span><br><span class="line">        carry, rst = <span class="literal">False</span>, <span class="string">''</span>  </span><br><span class="line">        <span class="keyword">while</span> a <span class="keyword">or</span> b:  </span><br><span class="line">            v1, v2 = int(a.pop()) <span class="keyword">if</span> a <span class="keyword">else</span> <span class="number">0</span>, int(b.pop()) <span class="keyword">if</span> b <span class="keyword">else</span> <span class="number">0</span>  </span><br><span class="line">            v = v1 + v2 + carry  </span><br><span class="line">            rst += str(v % <span class="number">2</span>)  </span><br><span class="line">            carry = v // <span class="number">2</span>  </span><br><span class="line">        <span class="keyword">if</span> carry:  </span><br><span class="line">            rst += <span class="string">'1'</span>  </span><br><span class="line">        <span class="keyword">return</span> rst[::<span class="number">-1</span>]</span><br></pre></td></tr></table></figure>
</li>
</ol>
</li>
<li><ol>
<li><p>Goat Latin</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span>  </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">toGoatLatin</span><span class="params">(self, S: str)</span> -&gt; str:</span>  </span><br><span class="line">        words = []  </span><br><span class="line">        <span class="keyword">for</span> i, s <span class="keyword">in</span> enumerate(S.split()):  </span><br><span class="line">            <span class="keyword">if</span> s[<span class="number">0</span>].lower() <span class="keyword">in</span> [<span class="string">'a'</span>, <span class="string">'e'</span>, <span class="string">'i'</span>, <span class="string">'o'</span>, <span class="string">'u'</span>]:  </span><br><span class="line">                s += <span class="string">'ma'</span>  </span><br><span class="line">            <span class="keyword">else</span>:  </span><br><span class="line">                s = s[<span class="number">1</span>:]+s[<span class="number">0</span>]+<span class="string">'ma'</span>  </span><br><span class="line">            s += <span class="string">'a'</span> * (i+<span class="number">1</span>)  </span><br><span class="line">            words.append(s)  </span><br><span class="line">        <span class="keyword">return</span> <span class="string">' '</span>.join(words)</span><br></pre></td></tr></table></figure>
</li>
</ol>
</li>
<li><ol>
<li><p>Complex Number Multiplication</p>
<p><a href="https://leetcode.com/problems/complex-number-multiplication/discuss/702715/Python-Concise-%2B-Straightforward" target="_blank" rel="noopener">https://leetcode.com/problems/complex-number-multiplication/discuss/702715/Python-Concise-%2B-Straightforward</a></p>
</li>
</ol>
</li>
<li><ol>
<li><p>Find And Replace in String</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span>  </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">findReplaceString</span><span class="params">(self, s: str, indexes: List[int], sources: List[str], targets: List[str])</span> -&gt; str:</span>  </span><br><span class="line">        opers = [(idx, src, tar) <span class="keyword">for</span> idx, src, tar <span class="keyword">in</span> zip(indexes, sources, targets)]  </span><br><span class="line">        opers = sorted(opers, key=<span class="keyword">lambda</span> x: x[<span class="number">0</span>])  </span><br><span class="line">        ret, prev = <span class="string">''</span>, <span class="number">0</span>  </span><br><span class="line">        <span class="keyword">for</span> idx, src, tar <span class="keyword">in</span> opers:  </span><br><span class="line">            <span class="keyword">if</span> idx &gt; prev:  </span><br><span class="line">                ret += s[prev:idx]  </span><br><span class="line">            <span class="keyword">if</span> s[idx:idx+len(src)] == src:  </span><br><span class="line">                ret += tar  </span><br><span class="line">            <span class="keyword">else</span>:  </span><br><span class="line">                ret += s[idx:idx+len(src)]  </span><br><span class="line">            prev = idx + len(src)  </span><br><span class="line">        <span class="keyword">return</span> ret + s[prev:]</span><br></pre></td></tr></table></figure>
</li>
</ol>
</li>
<li><ol>
<li><p>LRU Cache</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Node</span>:</span>  </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, key, prev=None, next=None)</span>:</span>  </span><br><span class="line">        self.key, self.prev, self.next = key, prev, next  </span><br><span class="line">          </span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">LRUCache</span>:</span>  </span><br><span class="line">              </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, capacity: int)</span>:</span>  </span><br><span class="line">        self.cap = capacity  </span><br><span class="line">        self.d = &#123;&#125;  </span><br><span class="line">        self.head, self.tail = Node(<span class="literal">None</span>), <span class="literal">None</span>  </span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">get</span><span class="params">(self, key: int)</span> -&gt; int:</span>  </span><br><span class="line">        <span class="keyword">if</span> key <span class="keyword">not</span> <span class="keyword">in</span> self.d: <span class="keyword">return</span> <span class="number">-1</span>  </span><br><span class="line">        self.put(key, self.d[key][<span class="number">0</span>])  </span><br><span class="line">        <span class="keyword">return</span> self.d[key][<span class="number">0</span>]  </span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">put</span><span class="params">(self, key: int, value: int)</span> -&gt; <span class="keyword">None</span>:</span>  </span><br><span class="line">        <span class="keyword">if</span> key <span class="keyword">in</span> self.d:  </span><br><span class="line">            self._remove(self.d[key][<span class="number">1</span>])  </span><br><span class="line">            <span class="keyword">del</span> self.d[key]  </span><br><span class="line">        <span class="keyword">if</span> len(self.d) == self.cap:  </span><br><span class="line">            <span class="keyword">del</span> self.d[self.tail.key]  </span><br><span class="line">            self._remove(self.tail)  </span><br><span class="line">        self._add_to_head(Node(key))  </span><br><span class="line">        self.d[key] = (value, self.head.next)  </span><br><span class="line">      </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">_add_to_head</span><span class="params">(self, node)</span>:</span>  </span><br><span class="line">        node.prev, node.next = self.head, self.head.next  </span><br><span class="line">        <span class="keyword">if</span> self.head.next:  </span><br><span class="line">            self.head.next.prev = node  </span><br><span class="line">        self.head.next = node  </span><br><span class="line">        <span class="keyword">if</span> self.tail <span class="keyword">is</span> <span class="literal">None</span>:  </span><br><span class="line">            self.tail = node  </span><br><span class="line">      </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">_remove</span><span class="params">(self, node)</span>:</span>  </span><br><span class="line">        node.prev.next = node.next  </span><br><span class="line">        <span class="keyword">if</span> node.next:  </span><br><span class="line">            node.next.prev = node.prev  </span><br><span class="line">        <span class="keyword">if</span> self.tail == node:  </span><br><span class="line">            self.tail = node.prev  </span><br><span class="line">        <span class="keyword">if</span> self.tail == self.head:  </span><br><span class="line">            self.tail = <span class="literal">None</span></span><br></pre></td></tr></table></figure>
</li>
</ol>
</li>
<li><ol>
<li><p>Read N Characters Given Read4</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span>  </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">read</span><span class="params">(self, buf, n)</span>:</span>  </span><br><span class="line">        <span class="string">"""  </span></span><br><span class="line"><span class="string">        :type buf: Destination buffer (List[str])  </span></span><br><span class="line"><span class="string">        :type n: Number of characters to read (int)  </span></span><br><span class="line"><span class="string">        :rtype: The number of actual characters read (int)  </span></span><br><span class="line"><span class="string">        """</span>  </span><br><span class="line">        <span class="keyword">if</span> n &lt;= <span class="number">0</span>: <span class="keyword">return</span> <span class="number">0</span>  </span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(n)[::<span class="number">4</span>]:  </span><br><span class="line">            tmp = [<span class="number">0</span>] * <span class="number">4</span>  </span><br><span class="line">            size = read4(tmp)  </span><br><span class="line">            <span class="keyword">for</span> j <span class="keyword">in</span> range(size):  </span><br><span class="line">                buf[i+j] = tmp[j]  </span><br><span class="line">            <span class="keyword">if</span> size != <span class="number">4</span>: <span class="keyword">break</span>  </span><br><span class="line">        <span class="keyword">return</span> min(n, i+size)</span><br></pre></td></tr></table></figure>
</li>
</ol>
</li>
<li><ol>
<li><p>Read N Characters Given Read4 II - Call multiple times</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span>  </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self)</span>:</span>  </span><br><span class="line">        self.remain = []  </span><br><span class="line">          </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">read</span><span class="params">(self, buf: List[str], n: int)</span> -&gt; int:</span>  </span><br><span class="line">        <span class="keyword">while</span> len(self.remain) &lt; n:  </span><br><span class="line">            tmp = [<span class="literal">None</span>] * <span class="number">4</span>  </span><br><span class="line">            cnt = read4(tmp)  </span><br><span class="line">            self.remain.extend(tmp[:cnt])  </span><br><span class="line">            <span class="keyword">if</span> cnt &lt; <span class="number">4</span>:  </span><br><span class="line">                <span class="keyword">break</span>  </span><br><span class="line">        cnt = len(self.remain)  </span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(min(cnt, n)):  </span><br><span class="line">            buf[i] = self.remain[i]  </span><br><span class="line">        self.remain[:n] = []  </span><br><span class="line">        <span class="keyword">return</span> min(cnt, n)</span><br></pre></td></tr></table></figure>
</li>
</ol>
</li>
<li><ol>
<li><p>Reorganize String</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span>  </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">reorganizeString</span><span class="params">(self, S: str)</span> -&gt; str:</span>  </span><br><span class="line">        rst = []  </span><br><span class="line">        counter = Counter(S)  </span><br><span class="line">        order = sorted(counter.keys(), key=<span class="keyword">lambda</span> x: -counter[x])  </span><br><span class="line">        idx, size = <span class="number">0</span>, counter[order[<span class="number">0</span>]]  </span><br><span class="line">        bucket = [[] <span class="keyword">for</span> _ <span class="keyword">in</span> range(size)]  </span><br><span class="line">        <span class="keyword">for</span> c <span class="keyword">in</span> order:  </span><br><span class="line">            <span class="keyword">for</span> _ <span class="keyword">in</span> range(counter[c]):  </span><br><span class="line">                bucket[idx].append(c)  </span><br><span class="line">                idx = (idx+<span class="number">1</span>) % size  </span><br><span class="line">        <span class="keyword">if</span> size &gt; <span class="number">1</span> <span class="keyword">and</span> len(bucket[size<span class="number">-2</span>]) == <span class="number">1</span>:  </span><br><span class="line">            <span class="keyword">return</span> <span class="string">''</span>  </span><br><span class="line">        <span class="keyword">return</span> <span class="string">''</span>.join(<span class="string">''</span>.join(b) <span class="keyword">for</span> b <span class="keyword">in</span> bucket)</span><br></pre></td></tr></table></figure>
</li>
</ol>
</li>
<li><ol>
<li><p>Brace Expansion II</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span>  </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">braceExpansionII</span><span class="params">(self, expression: str)</span> -&gt; List[str]:</span>  </span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">helper</span><span class="params">(pattern)</span>:</span>  </span><br><span class="line">            item, items = [<span class="string">''</span>], []  </span><br><span class="line">            pattern = deque(pattern)  </span><br><span class="line">            <span class="keyword">while</span> pattern:  </span><br><span class="line">                cur = pattern.popleft()  </span><br><span class="line">                <span class="keyword">if</span> cur == <span class="string">','</span>:  </span><br><span class="line">                    items.append(item)  </span><br><span class="line">                    item = [<span class="string">''</span>]  </span><br><span class="line">                <span class="keyword">else</span>:  </span><br><span class="line">                    <span class="keyword">if</span> cur == <span class="string">'&#123;'</span>:  </span><br><span class="line">                        level = <span class="number">1</span>  </span><br><span class="line">                        sub_p = <span class="string">''</span>  </span><br><span class="line">                        <span class="keyword">while</span> level:  </span><br><span class="line">                            sub_p += pattern.popleft()  </span><br><span class="line">                            <span class="keyword">if</span> sub_p[<span class="number">-1</span>] == <span class="string">'&#123;'</span>: level += <span class="number">1</span>  </span><br><span class="line">                            <span class="keyword">elif</span> sub_p[<span class="number">-1</span>] == <span class="string">'&#125;'</span>: level -= <span class="number">1</span>  </span><br><span class="line">                        sub_p = sub_p[:<span class="number">-1</span>]  </span><br><span class="line">                        cur = helper(sub_p)  </span><br><span class="line">                    <span class="keyword">else</span>:  </span><br><span class="line">                        cur = [cur]  </span><br><span class="line">                    item = [a+b <span class="keyword">for</span> a <span class="keyword">in</span> item <span class="keyword">for</span> b <span class="keyword">in</span> cur]  </span><br><span class="line">            <span class="keyword">else</span>:  </span><br><span class="line">                items.append(item)  </span><br><span class="line">            <span class="keyword">return</span> sorted(set(s <span class="keyword">for</span> item <span class="keyword">in</span> items <span class="keyword">for</span> s <span class="keyword">in</span> item))  </span><br><span class="line">        <span class="keyword">return</span> helper(expression)</span><br></pre></td></tr></table></figure>
</li>
</ol>
</li>
<li><ol>
<li><p>Remove Comments</p>
<p><a href="https://leetcode.com/problems/remove-comments/discuss/702669/Python-line-by-line-O(N" target="_blank" rel="noopener">https://leetcode.com/problems/remove-comments/discuss/702669/Python-line-by-line-O(N</a>)</p>
</li>
</ol>
</li>
<li><ol>
<li><p>Expressive Words</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span>  </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">expressiveWords</span><span class="params">(self, S: str, words: List[str])</span> -&gt; int:</span>  </span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">condense</span><span class="params">(s)</span>:</span>  </span><br><span class="line">            p_c, cnt, ret = s[<span class="number">0</span>], <span class="number">1</span>, []  </span><br><span class="line">            <span class="keyword">for</span> c <span class="keyword">in</span> s[<span class="number">1</span>:]+<span class="string">'$'</span>:  </span><br><span class="line">                <span class="keyword">if</span> c != p_c:  </span><br><span class="line">                    ret.append((p_c, cnt))  </span><br><span class="line">                    p_c, cnt = c, <span class="number">1</span>  </span><br><span class="line">                <span class="keyword">else</span>:  </span><br><span class="line">                    cnt += <span class="number">1</span>  </span><br><span class="line">            <span class="keyword">return</span> ret  </span><br><span class="line">                      </span><br><span class="line">        cond = condense(S)  </span><br><span class="line">        ret = <span class="number">0</span>  </span><br><span class="line">        <span class="keyword">for</span> word <span class="keyword">in</span> words:  </span><br><span class="line">            cond_cur = condense(word)  </span><br><span class="line">            <span class="keyword">if</span> len(cond_cur) == len(cond) <span class="keyword">and</span> all(a[<span class="number">0</span>]==b[<span class="number">0</span>] <span class="keyword">and</span> (a[<span class="number">1</span>]==b[<span class="number">1</span>] <span class="keyword">or</span> a[<span class="number">1</span>]&gt;b[<span class="number">1</span>] <span class="keyword">and</span> a[<span class="number">1</span>]&gt;=<span class="number">3</span>) <span class="keyword">for</span> a, b <span class="keyword">in</span> zip(cond, cond_cur)):  </span><br><span class="line">                ret += <span class="number">1</span>  </span><br><span class="line">        <span class="keyword">return</span> ret</span><br></pre></td></tr></table></figure>
</li>
</ol>
</li>
<li><ol>
<li><p>Remove Duplicate Letters</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span>  </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">removeDuplicateLetters</span><span class="params">(self, s: str)</span> -&gt; str:</span>  </span><br><span class="line">        ret, start = <span class="string">''</span>, <span class="number">0</span>  </span><br><span class="line">        chars = set(s)  </span><br><span class="line">        <span class="keyword">while</span> chars:  </span><br><span class="line">            <span class="keyword">for</span> c <span class="keyword">in</span> string.ascii_lowercase:  </span><br><span class="line">                <span class="keyword">if</span> c <span class="keyword">in</span> ret <span class="keyword">or</span> c <span class="keyword">not</span> <span class="keyword">in</span> s: <span class="keyword">continue</span>  </span><br><span class="line">                <span class="keyword">if</span> set(s[s.index(c):]) &gt;= chars:  </span><br><span class="line">                    ret += c  </span><br><span class="line">                    chars.remove(c)  </span><br><span class="line">                    s = s[s.index(c)+<span class="number">1</span>:]  </span><br><span class="line">                    <span class="keyword">break</span>  </span><br><span class="line">        <span class="keyword">return</span> ret</span><br></pre></td></tr></table></figure>
</li>
</ol>
</li>
<li><ol>
<li><p>Encode and Decode Strings</p>
<p><a href="https://leetcode.com/problems/encode-and-decode-strings/discuss/715649/Python-Straightforward" target="_blank" rel="noopener">https://leetcode.com/problems/encode-and-decode-strings/discuss/715649/Python-Straightforward</a></p>
</li>
</ol>
</li>
<li><ol>
<li><p>Swap For Longest Repeated Character Substring</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span>  </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">maxRepOpt1</span><span class="params">(self, s: str)</span> -&gt; int:</span>  </span><br><span class="line">        c_len, size = [[c, len(list(g))] <span class="keyword">for</span> c, g <span class="keyword">in</span> itertools.groupby(s)], <span class="number">1</span>  </span><br><span class="line">        ret = <span class="number">0</span>  </span><br><span class="line">        counter = Counter(c <span class="keyword">for</span> c, size <span class="keyword">in</span> c_len)  </span><br><span class="line">        <span class="keyword">for</span> i, (c, size) <span class="keyword">in</span> enumerate(c_len):  </span><br><span class="line">            ret = max(ret, size+(counter[c]&gt;<span class="number">1</span>))  </span><br><span class="line">            <span class="keyword">if</span> i &gt;= <span class="number">2</span> <span class="keyword">and</span> c_len[i<span class="number">-1</span>][<span class="number">1</span>] == <span class="number">1</span> <span class="keyword">and</span> c_len[i<span class="number">-2</span>][<span class="number">0</span>] == c:  </span><br><span class="line">                <span class="keyword">if</span> counter[c] &gt; <span class="number">2</span>:  </span><br><span class="line">                    ret = max(ret, size + c_len[i<span class="number">-2</span>][<span class="number">1</span>] + <span class="number">1</span>)  </span><br><span class="line">                <span class="keyword">else</span>:  </span><br><span class="line">                    ret = max(ret, size + c_len[i<span class="number">-2</span>][<span class="number">1</span>])  </span><br><span class="line">        <span class="keyword">return</span> ret</span><br></pre></td></tr></table></figure>
</li>
</ol>
</li>
<li><ol>
<li><p>Minimum Swaps to Make Strings Equal</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span>  </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">minimumSwap</span><span class="params">(self, s1: str, s2: str)</span> -&gt; int:</span>  </span><br><span class="line">        xy, yx = <span class="number">0</span>, <span class="number">0</span>  </span><br><span class="line">        <span class="keyword">for</span> a, b <span class="keyword">in</span> zip(s1, s2):  </span><br><span class="line">            <span class="keyword">if</span> a == b: <span class="keyword">continue</span>  </span><br><span class="line">            <span class="keyword">elif</span> a == <span class="string">'x'</span>: xy += <span class="number">1</span>  </span><br><span class="line">            <span class="keyword">else</span>: yx += <span class="number">1</span>  </span><br><span class="line">        <span class="keyword">return</span> <span class="number">-1</span> <span class="keyword">if</span> (xy+yx) % <span class="number">2</span> <span class="keyword">else</span> ((xy+yx) // <span class="number">2</span> + (xy%<span class="number">2</span>))</span><br></pre></td></tr></table></figure>
</li>
</ol>
</li>
<li><ol>
<li><p>Valid Parenthesis String</p>
<p><a href="https://leetcode.com/problems/valid-parenthesis-string/discuss/107570/JavaC%2B%2BPython-One-Pass-Count-the-Open-Parenthesis" target="_blank" rel="noopener">https://leetcode.com/problems/valid-parenthesis-string/discuss/107570/JavaC%2B%2BPython-One-Pass-Count-the-Open-Parenthesis</a></p>
</li>
</ol>
</li>
<li><ol>
<li>Last Substring in Lexicographical Order</li>
</ol>
</li>
<li><ol>
<li><p>Longest Uncommon Subsequence II</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span>  </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">findLUSlength</span><span class="params">(self, strs: List[str])</span> -&gt; int:</span>  </span><br><span class="line">        <span class="comment"># This is an important technic to check whether a string is a substring of another string  </span></span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">is_substr</span><span class="params">(s, ss)</span>:</span>  </span><br><span class="line">            idx = <span class="number">0</span>  </span><br><span class="line">            <span class="keyword">for</span> c <span class="keyword">in</span> ss:  </span><br><span class="line">                <span class="keyword">if</span> idx &lt; len(s) <span class="keyword">and</span> c == s[idx]:  </span><br><span class="line">                    idx += <span class="number">1</span>  </span><br><span class="line">            <span class="keyword">return</span> idx == len(s)  </span><br><span class="line">        strs = sorted(strs, key=<span class="keyword">lambda</span> x:len(x), reverse=<span class="literal">True</span>)  </span><br><span class="line">        <span class="keyword">for</span> i, s <span class="keyword">in</span> enumerate(strs):  </span><br><span class="line">            <span class="keyword">if</span> all(<span class="keyword">not</span> is_substr(s, ss) <span class="keyword">for</span> j, ss <span class="keyword">in</span> enumerate(strs) <span class="keyword">if</span> i != j):  </span><br><span class="line">                <span class="keyword">return</span> len(s)  </span><br><span class="line">        <span class="keyword">return</span> <span class="number">-1</span></span><br></pre></td></tr></table></figure>
</li>
</ol>
</li>
<li><ol>
<li><p>Stamping The Sequence</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span>  </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">movesToStamp</span><span class="params">(self, s: str, t: str)</span> -&gt; List[int]:</span>  </span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">check</span><span class="params">(idx)</span>:</span>  </span><br><span class="line">            moved = <span class="literal">False</span>  </span><br><span class="line">            <span class="keyword">for</span> i <span class="keyword">in</span> range(m):  </span><br><span class="line">                <span class="keyword">if</span> t[idx+i] == <span class="string">'?'</span>: <span class="keyword">continue</span>  </span><br><span class="line">                <span class="keyword">if</span> t[idx+i] != s[i]: <span class="keyword">return</span> <span class="literal">False</span>  </span><br><span class="line">                moved = <span class="literal">True</span>  </span><br><span class="line">            t[idx:idx+m] = [<span class="string">'?'</span>] * m  </span><br><span class="line">            <span class="keyword">if</span> moved:  </span><br><span class="line">                ret.append(idx)  </span><br><span class="line">            <span class="keyword">return</span> moved  </span><br><span class="line">        m, n, ret, s, t = len(s), len(t), [], list(s), list(t)  </span><br><span class="line">        moved = <span class="literal">True</span>  </span><br><span class="line">        <span class="keyword">while</span> moved:  </span><br><span class="line">            moved = <span class="literal">False</span>  </span><br><span class="line">            <span class="keyword">for</span> i <span class="keyword">in</span> range(n-m+<span class="number">1</span>):  </span><br><span class="line">                moved |= check(i)  </span><br><span class="line">        <span class="keyword">return</span> ret[::<span class="number">-1</span>] <span class="keyword">if</span> t == [<span class="string">'?'</span>]*n <span class="keyword">else</span> []</span><br></pre></td></tr></table></figure>
</li>
</ol>
</li>
<li><ol>
<li><p>Reverse Words in a String II</p>
<p><a href="https://leetcode.com/problems/reverse-words-in-a-string-ii/discuss/715615/Python-Concise-In-place" target="_blank" rel="noopener">https://leetcode.com/problems/reverse-words-in-a-string-ii/discuss/715615/Python-Concise-In-place</a></p>
</li>
</ol>
</li>
</ul>
<h3 id="Palindromic"><a href="#Palindromic" class="headerlink" title="Palindromic"></a>Palindromic</h3><p>Manacher’s Algorithm<br><a href="https://www.youtube.com/watch?v=nbTSfrEfo6M" target="_blank" rel="noopener">https://www.youtube.com/watch?v=nbTSfrEfo6M</a></p>
<ul>
<li><ol>
<li><p>Longest Palindromic Substring</p>
<p><a href="https://leetcode.com/problems/longest-palindromic-substring/discuss/3337/Manacher-algorithm-in-Python-O(n" target="_blank" rel="noopener">https://leetcode.com/problems/longest-palindromic-substring/discuss/3337/Manacher-algorithm-in-Python-O(n</a>)</p>
</li>
</ol>
</li>
<li><ol>
<li><p>Palindromic Substrings</p>
<p>O(N^2) - None Manacher’s Algorithm  </p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span>  </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">countSubstrings</span><span class="params">(self, s: str)</span> -&gt; int:</span>  </span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> s: <span class="keyword">return</span> <span class="number">0</span>  </span><br><span class="line">        rst = len(s)  </span><br><span class="line">        i = <span class="number">0</span>  </span><br><span class="line">        <span class="keyword">while</span> i &lt; len(s):  </span><br><span class="line">            j = i  </span><br><span class="line">            <span class="keyword">while</span> i+<span class="number">1</span> &lt; len(s) <span class="keyword">and</span> s[i] == s[i+<span class="number">1</span>]:  </span><br><span class="line">                i += <span class="number">1</span>  </span><br><span class="line">                rst += i-j  </span><br><span class="line">            rr = i  </span><br><span class="line">            <span class="keyword">while</span> j - <span class="number">1</span> &gt;= <span class="number">0</span> <span class="keyword">and</span> i + <span class="number">1</span> &lt; len(s) <span class="keyword">and</span> s[j<span class="number">-1</span>] == s[i+<span class="number">1</span>]:  </span><br><span class="line">                j -= <span class="number">1</span>  </span><br><span class="line">                i += <span class="number">1</span>  </span><br><span class="line">                rst += <span class="number">1</span>  </span><br><span class="line">            i = rr + <span class="number">1</span>  </span><br><span class="line">        <span class="keyword">return</span> rst</span><br></pre></td></tr></table></figure>
</li>
</ol>
</li>
<li><ol>
<li><p>Palindrome Pairs</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span>  </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">palindromePairs</span><span class="params">(self, words: List[str])</span> -&gt; List[List[int]]:</span>  </span><br><span class="line">        d = &#123;word: i <span class="keyword">for</span> i, word <span class="keyword">in</span> enumerate(words)&#125;   </span><br><span class="line">        rst = set()  </span><br><span class="line">        <span class="keyword">for</span> i, word <span class="keyword">in</span> enumerate(words):  </span><br><span class="line">            t = word[::<span class="number">-1</span>]  </span><br><span class="line">            <span class="comment"># (i, j)  </span></span><br><span class="line">            <span class="keyword">for</span> j <span class="keyword">in</span> range(len(t)+<span class="number">1</span>):  </span><br><span class="line">                cur = t[j:]  </span><br><span class="line">                <span class="keyword">if</span> word+cur == str(word+cur)[::<span class="number">-1</span>] <span class="keyword">and</span> cur <span class="keyword">in</span> d <span class="keyword">and</span> cur != word:  </span><br><span class="line">                    rst.add((i, d[cur]))  </span><br><span class="line">            <span class="comment"># (j, i)  </span></span><br><span class="line">            <span class="keyword">for</span> j <span class="keyword">in</span> range(len(t), <span class="number">-1</span>, <span class="number">-1</span>):  </span><br><span class="line">                cur = t[:j]  </span><br><span class="line">                <span class="keyword">if</span> cur+word == str(cur+word)[::<span class="number">-1</span>] <span class="keyword">and</span> cur <span class="keyword">in</span> d <span class="keyword">and</span> cur != word:  </span><br><span class="line">                    rst.add((d[cur], i))  </span><br><span class="line">        <span class="keyword">return</span> [list(item) <span class="keyword">for</span> item <span class="keyword">in</span> rst]</span><br></pre></td></tr></table></figure>
</li>
</ol>
</li>
</ul>
<h3 id="Math"><a href="#Math" class="headerlink" title="Math"></a>Math</h3><p>I do not know.<br>You tell me how to solve it.</p>
<ul>
<li><ol>
<li>Orderly Queue</li>
</ol>
</li>
</ul>
<h3 id="Sliding-window"><a href="#Sliding-window" class="headerlink" title="Sliding window"></a>Sliding window</h3><p>Maintain a state while sliding window</p>
<ul>
<li><p>easy</p>
<ol>
<li>Dictionary, Dictionary, Dictionary  </li>
<li>Prefix_sum</li>
</ol>
<ul>
<li><ol>
<li><p>Longest Substring Without Repeating Characters</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span>  </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">lengthOfLongestSubstring</span><span class="params">(self, s: str)</span> -&gt; int:</span>  </span><br><span class="line">        d = Counter()  </span><br><span class="line">        l, r, rst = <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>  </span><br><span class="line">        <span class="keyword">while</span> r &lt; len(s):  </span><br><span class="line">            c = s[r]  </span><br><span class="line">            r += <span class="number">1</span>  </span><br><span class="line">            d[c] += <span class="number">1</span>  </span><br><span class="line">            <span class="keyword">if</span> d[c] &lt;= <span class="number">1</span>:  </span><br><span class="line">                rst = max(rst, r-l)  </span><br><span class="line">            <span class="keyword">else</span>:  </span><br><span class="line">                <span class="keyword">while</span> l &lt; r:  </span><br><span class="line">                    cc = s[l]  </span><br><span class="line">                    l += <span class="number">1</span>  </span><br><span class="line">                    d[cc] -= <span class="number">1</span>  </span><br><span class="line">                    <span class="keyword">if</span> d[cc] == <span class="number">1</span>:  </span><br><span class="line">                        <span class="keyword">break</span>  </span><br><span class="line">        <span class="keyword">return</span> rst</span><br></pre></td></tr></table></figure>
</li>
</ol>
</li>
<li><ol>
<li><p>Find Two Non-overlapping Sub-arrays Each With Target Sum</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span>  </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">minSumOfLengths</span><span class="params">(self, arr: List[int], target: int)</span> -&gt; int:</span>  </span><br><span class="line">        prefix = &#123;<span class="number">0</span>: <span class="number">-1</span>&#125;  </span><br><span class="line">        best, bests, rst = math.inf, [math.inf] * len(arr), math.inf  </span><br><span class="line">        cur = <span class="number">0</span>  </span><br><span class="line">        <span class="keyword">for</span> i, v <span class="keyword">in</span> enumerate(arr):  </span><br><span class="line">            cur += v  </span><br><span class="line">            <span class="keyword">if</span> cur - target <span class="keyword">in</span> prefix:  </span><br><span class="line">                begin = prefix[cur-target]  </span><br><span class="line">                <span class="keyword">if</span> begin &gt; <span class="number">-1</span>:  </span><br><span class="line">                    rst = min(rst, i-begin + bests[begin])  </span><br><span class="line">                best = min(best, i-begin)  </span><br><span class="line">            bests[i] = best  </span><br><span class="line">            prefix[cur] = i  </span><br><span class="line">        <span class="keyword">return</span> rst <span class="keyword">if</span> rst != math.inf <span class="keyword">else</span> <span class="number">-1</span></span><br></pre></td></tr></table></figure>
</li>
</ol>
</li>
<li><ol>
<li><p>Minimum Window Substring</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span>  </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">minWindow</span><span class="params">(self, s: str, t: str)</span> -&gt; str:</span>  </span><br><span class="line">        c = Counter(t)  </span><br><span class="line">        cnt = len(c)  </span><br><span class="line">        l, r, rst = <span class="number">0</span>, <span class="number">0</span>, s+t  </span><br><span class="line">        <span class="keyword">while</span> r &lt; len(s) <span class="keyword">or</span> cnt == <span class="number">0</span>:  </span><br><span class="line">            <span class="keyword">if</span> cnt == <span class="number">0</span>:  </span><br><span class="line">                <span class="comment"># move l  </span></span><br><span class="line">                c[s[l]] += <span class="number">1</span>  </span><br><span class="line">                <span class="keyword">if</span> c[s[l]] == <span class="number">1</span>:  </span><br><span class="line">                    cnt += <span class="number">1</span>  </span><br><span class="line">                l += <span class="number">1</span>  </span><br><span class="line">            <span class="keyword">else</span>:  </span><br><span class="line">                <span class="comment"># move r  </span></span><br><span class="line">                c[s[r]] -= <span class="number">1</span>  </span><br><span class="line">                <span class="keyword">if</span> c[s[r]] == <span class="number">0</span>:  </span><br><span class="line">                    cnt -= <span class="number">1</span>  </span><br><span class="line">                r += <span class="number">1</span>  </span><br><span class="line">            <span class="keyword">if</span> cnt == <span class="number">0</span> <span class="keyword">and</span> len(s[l:r]) &lt; len(rst):  </span><br><span class="line">                rst = s[l:r]  </span><br><span class="line">        <span class="keyword">return</span> rst <span class="keyword">if</span> rst != s+t <span class="keyword">else</span> <span class="string">''</span></span><br></pre></td></tr></table></figure>
</li>
</ol>
</li>
<li><ol>
<li><p>Longest Substring with At Most Two Distinct Characters</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span>  </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">lengthOfLongestSubstringTwoDistinct</span><span class="params">(self, s: str)</span> -&gt; int:</span>  </span><br><span class="line">        d, cnt, ret = Counter(), <span class="number">2</span>, <span class="number">0</span>  </span><br><span class="line">        <span class="keyword">for</span> i, c <span class="keyword">in</span> enumerate(s):  </span><br><span class="line">            d[c] += <span class="number">1</span>  </span><br><span class="line">            <span class="keyword">if</span> d[c] == <span class="number">1</span>:  </span><br><span class="line">                cnt += <span class="number">1</span>  </span><br><span class="line">            <span class="keyword">if</span> len(d) &lt;= <span class="number">2</span>:  </span><br><span class="line">                ret += <span class="number">1</span>  </span><br><span class="line">            <span class="keyword">else</span>:  </span><br><span class="line">                d[s[i-ret]] -= <span class="number">1</span>  </span><br><span class="line">                <span class="keyword">if</span> d[s[i-ret]] == <span class="number">0</span>:  </span><br><span class="line">                    <span class="keyword">del</span> d[s[i-ret]]  </span><br><span class="line">        <span class="keyword">return</span> ret</span><br></pre></td></tr></table></figure>
</li>
</ol>
</li>
<li><ol>
<li><p>Number of Substrings Containing All Three Characters</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span>  </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">numberOfSubstrings</span><span class="params">(self, s: str)</span> -&gt; int:</span>  </span><br><span class="line">        ret, d, cnt, l = <span class="number">0</span>, Counter(), <span class="number">0</span>, <span class="number">0</span>  </span><br><span class="line">        <span class="keyword">for</span> i, c <span class="keyword">in</span> enumerate(s):  </span><br><span class="line">            d[c] += <span class="number">1</span>  </span><br><span class="line">            <span class="keyword">if</span> d[c] == <span class="number">1</span>: cnt += <span class="number">1</span>  </span><br><span class="line">            <span class="keyword">if</span> cnt == <span class="number">3</span>:  </span><br><span class="line">                <span class="keyword">while</span> d[s[l]] &gt; <span class="number">1</span>:  </span><br><span class="line">                    d[s[l]] -= <span class="number">1</span>  </span><br><span class="line">                    l += <span class="number">1</span>  </span><br><span class="line">                ret += l+<span class="number">1</span>  </span><br><span class="line">        <span class="keyword">return</span> ret</span><br></pre></td></tr></table></figure>
</li>
</ol>
</li>
</ul>
</li>
<li><p>Monotone Stack</p>
<ul>
<li><ol>
<li><p>Largest Rectangle in Histogram</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span>  </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">largestRectangleArea</span><span class="params">(self, heights: List[int])</span> -&gt; int:</span>  </span><br><span class="line">        stack = []  </span><br><span class="line">        rst = <span class="number">0</span>  </span><br><span class="line">        <span class="keyword">for</span> i, height <span class="keyword">in</span> enumerate(heights + [<span class="number">0</span>]):  </span><br><span class="line">            idx_prev = i  </span><br><span class="line">            <span class="keyword">while</span> stack <span class="keyword">and</span> stack[<span class="number">-1</span>][<span class="number">1</span>] &gt;= height:  </span><br><span class="line">                idx_prev, h_prev = stack.pop()  </span><br><span class="line">                rst = max(rst, (i - idx_prev) * h_prev)  </span><br><span class="line">            stack.append((idx_prev, height))  </span><br><span class="line">        <span class="keyword">return</span> rst</span><br></pre></td></tr></table></figure>
</li>
</ol>
</li>
<li><ol>
<li><p>Maximal Rectangle</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span>  </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">maximalRectangle</span><span class="params">(self, M: List[List[str]])</span> -&gt; int:</span>  </span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> M <span class="keyword">or</span> <span class="keyword">not</span> M[<span class="number">0</span>]: <span class="keyword">return</span> <span class="number">0</span>  </span><br><span class="line">        m, n = len(M), len(M[<span class="number">0</span>])  </span><br><span class="line">        rst = <span class="number">0</span>  </span><br><span class="line">        h = [<span class="number">0</span>] * (n+<span class="number">1</span>)  </span><br><span class="line">        <span class="keyword">for</span> row <span class="keyword">in</span> M:  </span><br><span class="line">            stack = [(<span class="number">0</span>, <span class="number">-1</span>)]  </span><br><span class="line">            <span class="keyword">for</span> i, v <span class="keyword">in</span> enumerate(row+[<span class="number">0</span>]):  </span><br><span class="line">                <span class="keyword">if</span> v == <span class="string">'1'</span>:  </span><br><span class="line">                    h[i] += <span class="number">1</span>  </span><br><span class="line">                <span class="keyword">else</span>:  </span><br><span class="line">                    h[i] = <span class="number">0</span>  </span><br><span class="line">                idx = i  </span><br><span class="line">                <span class="keyword">while</span> stack <span class="keyword">and</span> stack[<span class="number">-1</span>][<span class="number">0</span>] &gt; h[i]:  </span><br><span class="line">                    height, idx = stack.pop()  </span><br><span class="line">                    rst = max(rst, height * (i-idx))  </span><br><span class="line">                stack.append((h[i], idx))  </span><br><span class="line">        <span class="keyword">return</span> rst</span><br></pre></td></tr></table></figure>
</li>
</ol>
</li>
<li><ol>
<li>Final Prices With a Special Discount in a Shop</li>
</ol>
</li>
<li><ol>
<li><p>Next Greater Element III</p>
<p><a href="https://leetcode.com/problems/next-greater-element-iii/discuss/702697/Python-Concise-O(n" target="_blank" rel="noopener">https://leetcode.com/problems/next-greater-element-iii/discuss/702697/Python-Concise-O(n</a>)</p>
</li>
</ol>
</li>
<li><ol>
<li><p>Maximum Binary Tree</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Definition for a binary tree node.  </span></span><br><span class="line"><span class="comment"># class TreeNode:  </span></span><br><span class="line"><span class="comment">#     def __init__(self, val=0, left=None, right=None):  </span></span><br><span class="line"><span class="comment">#         self.val = val  </span></span><br><span class="line"><span class="comment">#         self.left = left  </span></span><br><span class="line"><span class="comment">#         self.right = right  </span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span>  </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">constructMaximumBinaryTree</span><span class="params">(self, nums: List[int])</span> -&gt; TreeNode:</span>  </span><br><span class="line">        <span class="string">'''  </span></span><br><span class="line"><span class="string">        # Recursive  </span></span><br><span class="line"><span class="string">        if not nums: return None  </span></span><br><span class="line"><span class="string">        val = max(nums)  </span></span><br><span class="line"><span class="string">        return TreeNode(val, self.constructMaximumBinaryTree(nums[:nums.index(val)]),  </span></span><br><span class="line"><span class="string">                             self.constructMaximumBinaryTree(nums[nums.index(val)+1:]))  </span></span><br><span class="line"><span class="string">        '''</span>  </span><br><span class="line">        <span class="string">'''  </span></span><br><span class="line"><span class="string">        # Recursive optimized  </span></span><br><span class="line"><span class="string">        def dfs(l, r):  </span></span><br><span class="line"><span class="string">            if l == r: return None  </span></span><br><span class="line"><span class="string">            val = max(nums[l:r])  </span></span><br><span class="line"><span class="string">            idx = l + nums[l:r].index(val)  </span></span><br><span class="line"><span class="string">            return TreeNode(val, dfs(l, idx), dfs(idx+1, r))  </span></span><br><span class="line"><span class="string">        return dfs(0, len(nums))  </span></span><br><span class="line"><span class="string">        '''</span>  </span><br><span class="line">        <span class="string">'''  </span></span><br><span class="line"><span class="string">        # Non-recursive  </span></span><br><span class="line"><span class="string">        ret = TreeNode()  </span></span><br><span class="line"><span class="string">        stack = [((0, len(nums)), (ret, 'l'))]  </span></span><br><span class="line"><span class="string">        while stack:  </span></span><br><span class="line"><span class="string">            (l, r), (p, dir) = stack.pop()  </span></span><br><span class="line"><span class="string">            if l == r: continue  </span></span><br><span class="line"><span class="string">            node = TreeNode(max(nums[l:r]))  </span></span><br><span class="line"><span class="string">            idx = l + nums[l:r].index(node.val)  </span></span><br><span class="line"><span class="string">            if dir == 'l': p.left = node  </span></span><br><span class="line"><span class="string">            else: p.right = node  </span></span><br><span class="line"><span class="string">              </span></span><br><span class="line"><span class="string">            stack.append(((idx+1, r), (node, 'r')))  </span></span><br><span class="line"><span class="string">            stack.append(((l, idx), (node, 'l')))  </span></span><br><span class="line"><span class="string">        return ret.left  </span></span><br><span class="line"><span class="string">        '''</span>  </span><br><span class="line">        <span class="comment"># Optimal  </span></span><br><span class="line">        stack = []  </span><br><span class="line">        <span class="keyword">for</span> val <span class="keyword">in</span> nums:  </span><br><span class="line">            node = TreeNode(val)  </span><br><span class="line">            left = <span class="literal">None</span>  </span><br><span class="line">            <span class="keyword">while</span> stack <span class="keyword">and</span> stack[<span class="number">-1</span>].val &lt; val:  </span><br><span class="line">                left = stack.pop()  </span><br><span class="line">            node.left = left  </span><br><span class="line">            <span class="keyword">if</span> stack:  </span><br><span class="line">                stack[<span class="number">-1</span>].right = node  </span><br><span class="line">            stack.append(node)  </span><br><span class="line">        <span class="keyword">return</span> stack[<span class="number">0</span>]</span><br></pre></td></tr></table></figure>
</li>
</ol>
</li>
</ul>
</li>
<li><p>Monotone queue</p>
</li>
<li><p>stack</p>
<p>  <a href="https://en.wikipedia.org/wiki/Stack_(abstract_data_type" target="_blank" rel="noopener">https://en.wikipedia.org/wiki/Stack_(abstract_data_type)</a>)</p>
<p>  O(1) to push and pop at end.</p>
<ul>
<li><ol>
<li><p>Valid Parentheses</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span>  </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">isValid</span><span class="params">(self, s: str)</span> -&gt; bool:</span>  </span><br><span class="line">        stack = []  </span><br><span class="line">        pairs = &#123;<span class="string">'('</span>: <span class="string">')'</span>, <span class="string">'['</span>: <span class="string">']'</span>, <span class="string">'&#123;'</span>: <span class="string">'&#125;'</span>&#125;  </span><br><span class="line">        <span class="keyword">for</span> c <span class="keyword">in</span> s:  </span><br><span class="line">            <span class="keyword">if</span> c <span class="keyword">in</span> [<span class="string">'('</span>, <span class="string">'['</span>, <span class="string">'&#123;'</span>]:  </span><br><span class="line">                stack.append(pairs[c])  </span><br><span class="line">            <span class="keyword">else</span>:  </span><br><span class="line">                <span class="keyword">if</span> stack <span class="keyword">and</span> stack[<span class="number">-1</span>] == c:  </span><br><span class="line">                    stack.pop()  </span><br><span class="line">                <span class="keyword">else</span>:  </span><br><span class="line">                    <span class="keyword">return</span> <span class="literal">False</span>  </span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">not</span> stack</span><br></pre></td></tr></table></figure>
</li>
</ol>
</li>
<li><ol>
<li><p>Basic Calculator II</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span>  </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">calculate</span><span class="params">(self, s: str)</span> -&gt; int:</span>  </span><br><span class="line">        s = s.strip().replace(<span class="string">' '</span>, <span class="string">''</span>)  </span><br><span class="line">        nums = []  </span><br><span class="line">        sign, val = <span class="string">'+'</span>, <span class="number">0</span>  </span><br><span class="line">        <span class="keyword">for</span> i, c <span class="keyword">in</span> enumerate(s):  </span><br><span class="line">            <span class="keyword">if</span> c.isdigit():  </span><br><span class="line">                val = val*<span class="number">10</span> + int(c)  </span><br><span class="line">            <span class="keyword">if</span> <span class="keyword">not</span> c.isdigit() <span class="keyword">or</span> i == len(s)<span class="number">-1</span>:  </span><br><span class="line">                <span class="keyword">if</span> sign == <span class="string">'+'</span>:  </span><br><span class="line">                    nums.append(val)  </span><br><span class="line">                <span class="keyword">elif</span> sign == <span class="string">'-'</span>:  </span><br><span class="line">                    nums.append(-val)  </span><br><span class="line">                <span class="keyword">elif</span> sign == <span class="string">'*'</span>:  </span><br><span class="line">                    nums.append(nums.pop() * val)  </span><br><span class="line">                <span class="keyword">elif</span> sign == <span class="string">'/'</span>:  </span><br><span class="line">                    nums.append(int(nums.pop() / val))  </span><br><span class="line">                sign = c  </span><br><span class="line">                val = <span class="number">0</span>  </span><br><span class="line">        <span class="keyword">return</span> sum(nums)</span><br></pre></td></tr></table></figure>
</li>
</ol>
</li>
<li><ol>
<li><p>Minimum Remove to Make Valid Parentheses</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span>  </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">minRemoveToMakeValid</span><span class="params">(self, s: str)</span> -&gt; str:</span>  </span><br><span class="line">        stack = []  </span><br><span class="line">        remove = set()  </span><br><span class="line">        <span class="keyword">for</span> i, c <span class="keyword">in</span> enumerate(s):  </span><br><span class="line">            <span class="keyword">if</span> c == <span class="string">'('</span>:  </span><br><span class="line">                stack.append(i)  </span><br><span class="line">            <span class="keyword">elif</span> c == <span class="string">')'</span>:  </span><br><span class="line">                <span class="keyword">if</span> stack:  </span><br><span class="line">                    stack.pop()  </span><br><span class="line">                <span class="keyword">else</span>:  </span><br><span class="line">                    remove.add(i)  </span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> stack:  </span><br><span class="line">            remove.add(i)  </span><br><span class="line">        <span class="keyword">return</span> <span class="string">''</span>.join(c <span class="keyword">for</span> i, c <span class="keyword">in</span> enumerate(s) <span class="keyword">if</span> i <span class="keyword">not</span> <span class="keyword">in</span> remove)</span><br></pre></td></tr></table></figure>
</li>
</ol>
</li>
<li><ol>
<li><p>Score of Parentheses</p>
<p><a href="https://leetcode.com/problems/score-of-parentheses/discuss/141777/C%2B%2BJavaPython-O(1)-Space" target="_blank" rel="noopener">https://leetcode.com/problems/score-of-parentheses/discuss/141777/C%2B%2BJavaPython-O(1)-Space</a></p>
</li>
</ol>
</li>
</ul>
</li>
</ul>
<h3 id="Heap-sort-Priority-Queue"><a href="#Heap-sort-Priority-Queue" class="headerlink" title="Heap sort / Priority Queue"></a>Heap sort / Priority Queue</h3><ul>
<li><ol>
<li><p>Smallest Range Covering Elements from K Lists</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span>  </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">smallestRange</span><span class="params">(self, nums: List[List[int]])</span> -&gt; List[int]:</span>  </span><br><span class="line">        q = [(num[<span class="number">0</span>], num, <span class="number">1</span>) <span class="keyword">for</span> num <span class="keyword">in</span> nums]  </span><br><span class="line">        heapq.heapify(q)  </span><br><span class="line">        rst = [min(q)[<span class="number">0</span>], max(q)[<span class="number">0</span>]]  </span><br><span class="line">        cur_max = max(q)[<span class="number">0</span>]  </span><br><span class="line">        <span class="keyword">while</span> <span class="literal">True</span>:  </span><br><span class="line">            val, num, idx = heapq.heappop(q)  </span><br><span class="line">            <span class="keyword">if</span> idx == len(num):  </span><br><span class="line">                <span class="keyword">return</span> rst  </span><br><span class="line">            heapq.heappush(q, (num[idx], num, idx+<span class="number">1</span>))  </span><br><span class="line">            cur_max = max(num[idx], cur_max)  </span><br><span class="line">            <span class="keyword">if</span> cur_max - q[<span class="number">0</span>][<span class="number">0</span>] &lt; rst[<span class="number">1</span>] - rst[<span class="number">0</span>]:  </span><br><span class="line">                rst = [q[<span class="number">0</span>][<span class="number">0</span>], cur_max]</span><br></pre></td></tr></table></figure>
</li>
</ol>
</li>
</ul>
<h3 id="Binary-search"><a href="#Binary-search" class="headerlink" title="Binary search"></a>Binary search</h3><p><a href="https://yonglife.com/2017/01/22/Binary-Search/">Binary Search</a></p>
<blockquote>
<p>Ideal  </p>
</blockquote>
<ul>
<li>Binary search can be used to guess answer in a known range.  </li>
</ul>
<p>Leverage library if it is available.  </p>
<ul>
<li>Python: <code>bisect.bisect_left</code>, <code>bisect.bisect_right</code>  </li>
<li>C++: <code>lower_bound</code>, <code>upper_bound</code></li>
</ul>
<ul>
<li><ol>
<li><p>Design Log Storage System</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">LogSystem</span>:</span>  </span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self)</span>:</span>  </span><br><span class="line">        self.data = []  </span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">put</span><span class="params">(self, id: int, timestamp: str)</span> -&gt; <span class="keyword">None</span>:</span>  </span><br><span class="line">        bisect.insort_left(self.data, (timestamp, id))  </span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">retrieve</span><span class="params">(self, s: str, e: str, gra: str)</span> -&gt; List[int]:</span>  </span><br><span class="line">        gra_to_idx = &#123;  </span><br><span class="line">            <span class="string">'Year'</span>: <span class="number">4</span>,  </span><br><span class="line">            <span class="string">'Month'</span>: <span class="number">7</span>,  </span><br><span class="line">            <span class="string">'Day'</span>: <span class="number">10</span>,  </span><br><span class="line">            <span class="string">'Hour'</span>: <span class="number">13</span>,  </span><br><span class="line">            <span class="string">'Minute'</span>: <span class="number">16</span>,  </span><br><span class="line">            <span class="string">'Second'</span>: <span class="number">19</span>  </span><br><span class="line">        &#125;  </span><br><span class="line">        s = s[:gra_to_idx[gra]]  </span><br><span class="line">        e = e[:gra_to_idx[gra]]+<span class="string">':'</span>+<span class="string">'9'</span>*<span class="number">32</span>  </span><br><span class="line"></span><br><span class="line">        idx1, idx2 = bisect.bisect_left(self.data, (s, -math.inf)), bisect.bisect(self.data, (e, math.inf))  </span><br><span class="line">        <span class="keyword">return</span> [item[<span class="number">1</span>] <span class="keyword">for</span> item <span class="keyword">in</span> self.data[idx1:idx2]]</span><br></pre></td></tr></table></figure>
</li>
</ol>
</li>
<li><ol>
<li><p>Split Array Largest Sum</p>
<p>Guess answer by using binary search  </p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span>  </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">splitArray</span><span class="params">(self, nums: List[int], m: int)</span> -&gt; int:</span>  </span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">valid_sum</span><span class="params">(max_sum)</span>:</span>  </span><br><span class="line">            cnt, cur = <span class="number">1</span>, <span class="number">0</span>  </span><br><span class="line">            <span class="keyword">for</span> num <span class="keyword">in</span> nums:  </span><br><span class="line">                cur += num  </span><br><span class="line">                <span class="keyword">if</span> cur &gt; max_sum:  </span><br><span class="line">                    cnt += <span class="number">1</span>  </span><br><span class="line">                    cur = num  </span><br><span class="line">                    <span class="keyword">if</span> cnt &gt; m:  </span><br><span class="line">                        <span class="keyword">return</span> <span class="literal">False</span>  </span><br><span class="line">            <span class="keyword">return</span> <span class="literal">True</span>  </span><br><span class="line">        <span class="comment"># Binary search  </span></span><br><span class="line">        l, r = max(nums), sum(nums)  </span><br><span class="line">        <span class="keyword">while</span> l &lt; r:  </span><br><span class="line">            mid = (l+r) // <span class="number">2</span>  </span><br><span class="line">            <span class="keyword">if</span> valid_sum(mid):  </span><br><span class="line">                r = mid  </span><br><span class="line">            <span class="keyword">else</span>:  </span><br><span class="line">                l = mid+<span class="number">1</span>  </span><br><span class="line">        <span class="keyword">return</span> l</span><br></pre></td></tr></table></figure>
</li>
</ol>
</li>
<li><ol>
<li><p>Minimum Number of Days to Make m Bouquets</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span>  </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">minDays</span><span class="params">(self, B: List[int], m: int, k: int)</span> -&gt; int:</span>  </span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">ok</span><span class="params">(day)</span>:</span>  </span><br><span class="line">            fl = <span class="number">0</span>  </span><br><span class="line">            cnt = <span class="number">0</span>  </span><br><span class="line">            <span class="keyword">for</span> d <span class="keyword">in</span> B:  </span><br><span class="line">                fl = fl + <span class="number">1</span> <span class="keyword">if</span> day &gt;= d <span class="keyword">else</span> <span class="number">0</span>  </span><br><span class="line">                <span class="keyword">if</span> fl &gt;= k:  </span><br><span class="line">                    cnt += <span class="number">1</span>  </span><br><span class="line">                    fl = <span class="number">0</span>  </span><br><span class="line">            <span class="keyword">return</span> cnt &gt;= m  </span><br><span class="line"></span><br><span class="line">        l, r = min(B), max(B)+<span class="number">1</span>  </span><br><span class="line">        <span class="keyword">while</span> l &lt; r:  </span><br><span class="line">            <span class="comment">#print(f'&#123;l&#125; &#123;r&#125;')  </span></span><br><span class="line">            mid = (l+r) // <span class="number">2</span>  </span><br><span class="line">            <span class="keyword">if</span> ok(mid):  </span><br><span class="line">                r = mid  </span><br><span class="line">            <span class="keyword">else</span>:  </span><br><span class="line">                l = mid + <span class="number">1</span>  </span><br><span class="line">        <span class="keyword">return</span> l <span class="keyword">if</span> l &lt;= max(B) <span class="keyword">else</span> <span class="number">-1</span></span><br></pre></td></tr></table></figure>
</li>
</ol>
</li>
<li><ol>
<li><p>Snapshot Array</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">SnapshotArray</span>:</span>  </span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, length: int)</span>:</span>  </span><br><span class="line">        self.d = defaultdict(list)  </span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(length):  </span><br><span class="line">            self.d[i].append((<span class="number">0</span>, <span class="number">0</span>))  </span><br><span class="line">        self.v = <span class="number">0</span>  </span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">set</span><span class="params">(self, index: int, val: int)</span> -&gt; <span class="keyword">None</span>:</span>  </span><br><span class="line">        self.d[index].append((self.v, val))  </span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">snap</span><span class="params">(self)</span> -&gt; int:</span>  </span><br><span class="line">        self.v += <span class="number">1</span>  </span><br><span class="line">        <span class="keyword">return</span> self.v - <span class="number">1</span>  </span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">get</span><span class="params">(self, index: int, snap_id: int)</span> -&gt; int:</span>  </span><br><span class="line">        idx = bisect.bisect(self.d[index], (snap_id, float<span class="string">'inf'</span>)) - <span class="number">1</span>  </span><br><span class="line">        <span class="keyword">return</span> self.d[index][idx][<span class="number">1</span>]</span><br></pre></td></tr></table></figure>
</li>
</ol>
</li>
</ul>
<h3 id="KMP"><a href="#KMP" class="headerlink" title="KMP"></a>KMP</h3><ul>
<li><ol>
<li><p>Shortest Palindrome</p>
<ol>
<li>Shortest Palindrome</li>
</ol>
</li>
</ol>
</li>
</ul>
<h2 id="Dynamic-programming"><a href="#Dynamic-programming" class="headerlink" title="Dynamic programming"></a>Dynamic programming</h2><p><a href="[https://www.youtube.com/playlist?list=PL3P3cZGn6p661AmJdHafLMLzPxy5CXy-i](https://www.youtube.com/playlist?list=PL3P3cZGn6p661AmJdHafLMLzPxy5CXy-i">MIT 6.006 Introduction to Algorithms, Fall 2011</a>)</p>
<blockquote>
<p>Idea  </p>
</blockquote>
<ol>
<li>DP is a smart brute force. It remember state while exhausting all possible cases.  </li>
<li>DP is a DFS. Switching to BFS when it is too slow or taking too much memory to do DFS.  </li>
<li>Transformation formula is the key of DP. <code>Bottom up</code> or <code>Top down</code> is just the implementation technical.   </li>
<li><code>Bottom up</code> implementation can be used to save memory when we only need states from last n levels.  </li>
<li><p>Pay attention to edge cases. Edge cases used to happen when each parameter(dimension variable) reaching 0.<br>E.g. 10. Regular Expression Matching  </p>
 <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br></pre></td><td class="code"><pre><span class="line">    <span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span>  </span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">isMatch</span><span class="params">(self, s: str, p: str)</span> -&gt; bool:</span>  </span><br><span class="line">            <span class="comment"># Memorization: Time O(M*N) Space O(M*N)  </span></span><br><span class="line">            m, n = len(s), len(p)  </span><br><span class="line">            <span class="keyword">import</span> functools  </span><br><span class="line"><span class="meta">            @functools.lru_cache(None)  </span></span><br><span class="line">            <span class="function"><span class="keyword">def</span> <span class="title">dp</span><span class="params">(x, y)</span>:</span>  </span><br><span class="line">                <span class="keyword">if</span> y == <span class="number">0</span>: <span class="keyword">return</span> x == <span class="number">0</span>  </span><br><span class="line">                <span class="keyword">if</span> x == <span class="number">0</span>: <span class="keyword">return</span> y == <span class="number">0</span> <span class="keyword">or</span> y&gt;=<span class="number">2</span> <span class="keyword">and</span> p[y<span class="number">-1</span>] == <span class="string">'*'</span> <span class="keyword">and</span> dp(x, y<span class="number">-2</span>)  </span><br><span class="line">                <span class="keyword">if</span> p[y<span class="number">-1</span>] != <span class="string">'*'</span>:  </span><br><span class="line">                    <span class="keyword">return</span> p[y<span class="number">-1</span>] <span class="keyword">in</span> [s[x<span class="number">-1</span>], <span class="string">'.'</span>] <span class="keyword">and</span> dp(x<span class="number">-1</span>, y<span class="number">-1</span>)  </span><br><span class="line">                <span class="keyword">else</span>:  </span><br><span class="line">                    <span class="keyword">return</span> y&gt;<span class="number">1</span> <span class="keyword">and</span> (dp(x, y<span class="number">-2</span>) <span class="keyword">or</span> p[y<span class="number">-2</span>] <span class="keyword">in</span> [s[x<span class="number">-1</span>], <span class="string">'.'</span>] <span class="keyword">and</span> dp(x<span class="number">-1</span>, y))  </span><br><span class="line">            <span class="keyword">return</span> dp(m, n)  </span><br><span class="line">    ```  </span><br><span class="line"></span><br><span class="line"><span class="number">6.</span> Same idea when dealing contest/competitive games. Find the optimal move by exhausting all possible choice.   </span><br><span class="line">    ```python  </span><br><span class="line">    DP(n) = max(Profit(move) - DP(move/next_start_point)  <span class="keyword">for</span> move <span class="keyword">in</span> possible_moves)  </span><br><span class="line">    ```  </span><br><span class="line"></span><br><span class="line">&gt; Useful trick  </span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="number">1.</span> `dict` can be more flexible compare to `array` since you can switch between `i`, `i+<span class="number">1</span>`, `i<span class="number">-1</span>` <span class="keyword">as</span> needed when dealing edge cases.  </span><br><span class="line"><span class="number">2.</span> Use tuple <span class="keyword">as</span> key when multiple dimension dictionary/array <span class="keyword">is</span> needed.   </span><br><span class="line"></span><br><span class="line">    ```python  </span><br><span class="line">    dp = &#123;&#125;  </span><br><span class="line">    <span class="comment"># 1-d  </span></span><br><span class="line">    dp[<span class="number">0</span>] = <span class="number">10</span>  </span><br><span class="line">    <span class="comment"># 2-d  </span></span><br><span class="line">    dp[<span class="number">0</span>, <span class="number">0</span>] = <span class="number">10</span>  </span><br><span class="line">    <span class="comment"># 3-d  </span></span><br><span class="line">    dp[<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>] = <span class="number">10</span>  </span><br><span class="line">    ```  </span><br><span class="line"></span><br><span class="line"><span class="number">3.</span> `@lru_cache(<span class="literal">None</span>)` can be used <span class="keyword">for</span> `Top down` implementation.  </span><br><span class="line"><span class="number">4.</span> `State transformation formular` can be identical between `bottom up` <span class="keyword">and</span> `top down` approach <span class="keyword">if</span> we use variable carfully.  </span><br><span class="line"></span><br><span class="line">    &gt; [<span class="number">10.</span> Regular Expression Matching]([https://leetcode.com/problems/regular-expression-matching/discuss/<span class="number">665501</span>/Python-Concise-DP-Botton-up-%<span class="number">2</span>B-Top-down](https://leetcode.com/problems/regular-expression-matching/discuss/<span class="number">665501</span>/Python-Concise-DP-Botton-up-%<span class="number">2</span>B-Top-down))</span><br><span class="line">    &gt; [<span class="number">44.</span> Wildcard Matching]([https://leetcode.com/problems/wildcard-matching/discuss/<span class="number">687707</span>/Python-Concise-DP-Bottom-up-%<span class="number">2</span>B-Top-down](https://leetcode.com/problems/wildcard-matching/discuss/<span class="number">687707</span>/Python-Concise-DP-Bottom-up-%<span class="number">2</span>B-Top-down))</span><br><span class="line"></span><br><span class="line"><span class="comment">### One dimension </span></span><br><span class="line"></span><br><span class="line">- <span class="number">91.</span> Decode Ways</span><br><span class="line"></span><br><span class="line">	```python  </span><br><span class="line">	<span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span>  </span><br><span class="line">	    <span class="function"><span class="keyword">def</span> <span class="title">numDecodings</span><span class="params">(self, s: str)</span> -&gt; int:</span>  </span><br><span class="line">	        <span class="string">'''  </span></span><br><span class="line"><span class="string">	        # Top down: Time O(N) Space O(N)  </span></span><br><span class="line"><span class="string">	        dp = &#123;0: 1&#125;  </span></span><br><span class="line"><span class="string">	        def helper(x):  </span></span><br><span class="line"><span class="string">	            if x in dp: return dp[x]  </span></span><br><span class="line"><span class="string">	            dp[x] = (helper(x-1) if s[x-1] != '0' else 0) + (helper(x-2) if x &gt; 1 and 9 &lt; int(s[x-2:x]) &lt;= 26 else 0)  </span></span><br><span class="line"><span class="string">	            return dp[x]  </span></span><br><span class="line"><span class="string">	        return helper(len(s))  </span></span><br><span class="line"><span class="string">	        '''</span>  </span><br><span class="line">	        <span class="comment"># Bottom up: Time O(N) Space O(1)  </span></span><br><span class="line">	        p2, p1 = <span class="number">1</span>, <span class="number">1</span> <span class="keyword">if</span> s[<span class="number">0</span>] != <span class="string">'0'</span> <span class="keyword">else</span> <span class="number">0</span>  </span><br><span class="line">	        <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">1</span>, len(s)):  </span><br><span class="line">	            cur = p1 <span class="keyword">if</span> s[i] != <span class="string">'0'</span> <span class="keyword">else</span> <span class="number">0</span>  </span><br><span class="line">	            cur += p2 <span class="keyword">if</span> <span class="number">9</span> &lt; int(s[i<span class="number">-1</span>:i+<span class="number">1</span>]) &lt;= <span class="number">26</span> <span class="keyword">else</span> <span class="number">0</span>  </span><br><span class="line">	            <span class="keyword">if</span> cur == <span class="number">0</span>: <span class="keyword">return</span> <span class="number">0</span>  </span><br><span class="line">	            p2, p1 = p1, cur  </span><br><span class="line">	        <span class="keyword">return</span> p1</span><br></pre></td></tr></table></figure>
</li>
</ol>
<ul>
<li><ol>
<li><p>Unique Binary Search Trees</p>
<p><a href="https://leetcode.com/problems/unique-binary-search-trees/discuss/665520/Python-Concise-Botton-up-%2B-Top-down" target="_blank" rel="noopener">https://leetcode.com/problems/unique-binary-search-trees/discuss/665520/Python-Concise-Botton-up-%2B-Top-down</a></p>
</li>
</ol>
</li>
<li><ol>
<li><p>Climbing Stairs</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span>  </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">climbStairs</span><span class="params">(self, n: int)</span> -&gt; int:</span>  </span><br><span class="line">        <span class="string">'''          </span></span><br><span class="line"><span class="string">        d = &#123;0:1, 1:1&#125;  </span></span><br><span class="line"><span class="string">        def helper(k):  </span></span><br><span class="line"><span class="string">            if k in d: return d[k]  </span></span><br><span class="line"><span class="string">            d[k] = helper(k-1) + helper(k-2)  </span></span><br><span class="line"><span class="string">            return d[k]  </span></span><br><span class="line"><span class="string">        return helper(n)  </span></span><br><span class="line"><span class="string">        '''</span>  </span><br><span class="line">        a, b = <span class="number">1</span>, <span class="number">1</span>  </span><br><span class="line">        <span class="keyword">if</span> n == <span class="number">1</span>: <span class="keyword">return</span> <span class="number">1</span>  </span><br><span class="line">        <span class="keyword">while</span> n &gt; <span class="number">1</span>:  </span><br><span class="line">            a, b = b, a+b  </span><br><span class="line">            n-=<span class="number">1</span>  </span><br><span class="line">        <span class="keyword">return</span> b</span><br></pre></td></tr></table></figure>
</li>
</ol>
</li>
<li><ol>
<li><p>Maximum Product Subarray</p>
<p><a href="https://leetcode.com/problems/maximum-product-subarray/discuss/665622/Python-Concise-DP-Bottom-up-%2B-Top-down" target="_blank" rel="noopener">https://leetcode.com/problems/maximum-product-subarray/discuss/665622/Python-Concise-DP-Bottom-up-%2B-Top-down</a></p>
</li>
</ol>
</li>
<li><ol>
<li><p>Triangle</p>
<p><a href="https://leetcode.com/problems/triangle/discuss/667442/Python-Concise-DP-Bottom-up-%2B-Top-down" target="_blank" rel="noopener">https://leetcode.com/problems/triangle/discuss/667442/Python-Concise-DP-Bottom-up-%2B-Top-down</a></p>
</li>
</ol>
</li>
<li><ol>
<li><p>House Robber</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span>  </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">rob</span><span class="params">(self, nums: List[int])</span> -&gt; int:</span>  </span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> nums: <span class="keyword">return</span> <span class="number">0</span>  </span><br><span class="line">        <span class="string">'''  </span></span><br><span class="line"><span class="string">        # bottom up  </span></span><br><span class="line"><span class="string">        a, b = 0, nums[0]  </span></span><br><span class="line"><span class="string">        for v in nums[1:]:  </span></span><br><span class="line"><span class="string">            a, b = b, max(b, a+v)  </span></span><br><span class="line"><span class="string">        return b  </span></span><br><span class="line"><span class="string">        '''</span>  </span><br><span class="line">        <span class="comment"># Top down  </span></span><br><span class="line">        d = &#123;<span class="number">-1</span>: <span class="number">0</span>, <span class="number">0</span>: nums[<span class="number">0</span>]&#125;  </span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">helper</span><span class="params">(k)</span>:</span>  </span><br><span class="line">            <span class="keyword">if</span> k <span class="keyword">in</span> d: <span class="keyword">return</span> d[k]  </span><br><span class="line">            d[k] = max(helper(k<span class="number">-2</span>)+nums[k], helper(k<span class="number">-1</span>))  </span><br><span class="line">            <span class="keyword">return</span> d[k]  </span><br><span class="line">        <span class="keyword">return</span> helper(len(nums)<span class="number">-1</span>)</span><br></pre></td></tr></table></figure>
</li>
</ol>
</li>
<li><ol>
<li><p>Word Break</p>
<p><a href="https://leetcode.com/problems/word-break/discuss/665575/Python-Concise-DP-Bottom-up-%2B-Top-down" target="_blank" rel="noopener">https://leetcode.com/problems/word-break/discuss/665575/Python-Concise-DP-Bottom-up-%2B-Top-down</a></p>
</li>
</ol>
</li>
<li><ol>
<li>Triangle</li>
</ol>
</li>
<li><ol>
<li><p>Arithmetic Slices</p>
<p><a href="https://leetcode.com/problems/arithmetic-slices/discuss/671064/Python-Concise-DP-Bottom-up-%2B-Top-down" target="_blank" rel="noopener">https://leetcode.com/problems/arithmetic-slices/discuss/671064/Python-Concise-DP-Bottom-up-%2B-Top-down</a></p>
</li>
</ol>
</li>
<li><ol>
<li><p>Minimum Path Sum</p>
<p><a href="https://leetcode.com/problems/minimum-path-sum/discuss/667483/Python-Concise-Bottom-up-%2B-Top-down" target="_blank" rel="noopener">https://leetcode.com/problems/minimum-path-sum/discuss/667483/Python-Concise-Bottom-up-%2B-Top-down</a></p>
</li>
</ol>
</li>
<li><ol>
<li><p>Integer Break</p>
<p><a href="https://leetcode.com/problems/integer-break/discuss/676483/Python-DP-without-math-trick" target="_blank" rel="noopener">https://leetcode.com/problems/integer-break/discuss/676483/Python-DP-without-math-trick</a></p>
</li>
</ol>
</li>
<li><ol>
<li><p>Counting Bits</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span>  </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">countBits</span><span class="params">(self, num: int)</span> -&gt; List[int]:</span>  </span><br><span class="line">        dp = [<span class="number">0</span>] * (num+<span class="number">1</span>)  </span><br><span class="line">        <span class="keyword">if</span> num == <span class="number">0</span>: <span class="keyword">return</span> dp  </span><br><span class="line">        dp[<span class="number">1</span>], prev = <span class="number">1</span>, <span class="number">1</span>  </span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">2</span>, num+<span class="number">1</span>):  </span><br><span class="line">            <span class="keyword">if</span> i == prev * <span class="number">2</span>:  </span><br><span class="line">                dp[i] = <span class="number">1</span>  </span><br><span class="line">                prev = i  </span><br><span class="line">            <span class="keyword">else</span>:  </span><br><span class="line">                dp[i] = <span class="number">1</span> + dp[i-prev]  </span><br><span class="line">        <span class="keyword">return</span> dp</span><br></pre></td></tr></table></figure>
</li>
</ol>
</li>
<li><ol>
<li><p>Best Time to Buy and Sell Stock with Cooldown</p>
<p><a href="https://leetcode.com/problems/best-time-to-buy-and-sell-stock-with-cooldown/discuss/669064/Python-Concise-DP-Botton-up-%2B-Top-down" target="_blank" rel="noopener">https://leetcode.com/problems/best-time-to-buy-and-sell-stock-with-cooldown/discuss/669064/Python-Concise-DP-Botton-up-%2B-Top-down</a></p>
</li>
</ol>
</li>
<li><ol>
<li>Perfect Squares</li>
</ol>
</li>
<li><ol>
<li><p>Longest Valid Parentheses</p>
<p><a href="https://leetcode.com/problems/longest-valid-parentheses/discuss/669186/Python-Concise-DP-Bottom-up-%2B-Top-down" target="_blank" rel="noopener">https://leetcode.com/problems/longest-valid-parentheses/discuss/669186/Python-Concise-DP-Bottom-up-%2B-Top-down</a></p>
</li>
</ol>
</li>
<li><ol>
<li><p>Word Break II</p>
<p><a href="https://leetcode.com/problems/word-break-ii/discuss/672708/Python-Concise-DP-Bottom-up-%2B-Top-down" target="_blank" rel="noopener">https://leetcode.com/problems/word-break-ii/discuss/672708/Python-Concise-DP-Bottom-up-%2B-Top-down</a></p>
</li>
</ol>
</li>
<li><ol>
<li>Ugly Number II</li>
</ol>
</li>
<li><ol>
<li>Count Numbers with Unique Digits</li>
</ol>
</li>
</ul>
<h3 id="Two-dimension"><a href="#Two-dimension" class="headerlink" title="Two dimension"></a>Two dimension</h3><ul>
<li><ol>
<li><p>Longest Palindromic Substring</p>
<p><a href="https://leetcode.com/problems/longest-palindromic-substring/discuss/663984/python-concise-dp-on2" target="_blank" rel="noopener">https://leetcode.com/problems/longest-palindromic-substring/discuss/663984/python-concise-dp-on2</a></p>
</li>
</ol>
</li>
<li><ol>
<li><p>Edit Distance</p>
<p><a href="https://leetcode.com/problems/edit-distance/discuss/663855/Python-Concise-memorization-%2B-Botton-up" target="_blank" rel="noopener">https://leetcode.com/problems/edit-distance/discuss/663855/Python-Concise-memorization-%2B-Botton-up</a></p>
</li>
</ol>
</li>
<li><ol>
<li><p>Unique Binary Search Trees II</p>
<p><a href="https://leetcode.com/problems/unique-binary-search-trees-ii/discuss/669241/Python-Concise-DP-Bottom-up-%2B-Top-down" target="_blank" rel="noopener">https://leetcode.com/problems/unique-binary-search-trees-ii/discuss/669241/Python-Concise-DP-Bottom-up-%2B-Top-down</a></p>
</li>
</ol>
</li>
<li><ol>
<li><p>Distinct Subsequences</p>
<p><a href="https://leetcode.com/problems/distinct-subsequences/discuss/673798/Python-Concise-DP-Bottom-up-%2B-Top-down" target="_blank" rel="noopener">https://leetcode.com/problems/distinct-subsequences/discuss/673798/Python-Concise-DP-Bottom-up-%2B-Top-down</a></p>
</li>
</ol>
</li>
<li><ol>
<li><p>Best Time to Buy and Sell Stock IV</p>
<p><a href="https://leetcode.com/problems/best-time-to-buy-and-sell-stock-iv/discuss/676357/Python-Concise-DP-Bottom-up-%2B-Top-down" target="_blank" rel="noopener">https://leetcode.com/problems/best-time-to-buy-and-sell-stock-iv/discuss/676357/Python-Concise-DP-Bottom-up-%2B-Top-down</a></p>
</li>
</ol>
</li>
<li><ol>
<li><p>Regular Expression Matching</p>
<p><a href="https://leetcode.com/problems/regular-expression-matching/discuss/665501/Python-Concise-DP-Botton-up-%2B-Top-down" target="_blank" rel="noopener">https://leetcode.com/problems/regular-expression-matching/discuss/665501/Python-Concise-DP-Botton-up-%2B-Top-down</a></p>
</li>
</ol>
</li>
<li><ol>
<li><p>Wildcard Matching</p>
<p><a href="https://leetcode.com/problems/wildcard-matching/discuss/687707/Python-Concise-DP-Bottom-up-%2B-Top-down" target="_blank" rel="noopener">https://leetcode.com/problems/wildcard-matching/discuss/687707/Python-Concise-DP-Bottom-up-%2B-Top-down</a></p>
</li>
</ol>
</li>
<li><ol>
<li>Guess Number Higher or Lower II</li>
</ol>
</li>
<li><ol>
<li><p>Burst Balloons</p>
<p><a href="https://leetcode.com/problems/burst-balloons/discuss/665527/Python-Concise-Botton-up-%2B-Top-down" target="_blank" rel="noopener">https://leetcode.com/problems/burst-balloons/discuss/665527/Python-Concise-Botton-up-%2B-Top-down</a></p>
</li>
</ol>
</li>
<li><ol>
<li><p>Maximal Square</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span>  </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">maximalSquare</span><span class="params">(self, M: List[List[str]])</span> -&gt; int:</span>  </span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> M <span class="keyword">or</span> <span class="keyword">not</span> M[<span class="number">0</span>]: <span class="keyword">return</span> <span class="number">0</span>  </span><br><span class="line">        m, n = len(M), len(M[<span class="number">0</span>])  </span><br><span class="line">        h, max_l = [<span class="number">0</span>] * n, <span class="number">0</span>  </span><br><span class="line">        <span class="string">'''  </span></span><br><span class="line"><span class="string">        # bottom up: Time O(M*N) Space O(M*N)  </span></span><br><span class="line"><span class="string">        dp = [[0]*(n+1) for _ in range(m+1)]  </span></span><br><span class="line"><span class="string">          </span></span><br><span class="line"><span class="string">        for i in range(m):  </span></span><br><span class="line"><span class="string">            w = 0  </span></span><br><span class="line"><span class="string">            for j in range(n):  </span></span><br><span class="line"><span class="string">                if M[i][j] == '0':  </span></span><br><span class="line"><span class="string">                    w, h[j], dp[i+1][j+1] = 0, 0, 0  </span></span><br><span class="line"><span class="string">                else:  </span></span><br><span class="line"><span class="string">                    w, h[j] = w+1, h[j]+1  </span></span><br><span class="line"><span class="string">                    dp[i+1][j+1] = min(w, h[j], dp[i][j]+1)  </span></span><br><span class="line"><span class="string">                    max_l = max(max_l, dp[i+1][j+1])  </span></span><br><span class="line"><span class="string">        return max_l * max_l  </span></span><br><span class="line"><span class="string">        '''</span>  </span><br><span class="line">        <span class="comment"># bottom up: Time O(M*N) Space O(N)  </span></span><br><span class="line">        dp, ndp = [<span class="number">0</span>] * (n+<span class="number">1</span>), [<span class="number">0</span>] * (n+<span class="number">1</span>)  </span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(m):  </span><br><span class="line">            w = <span class="number">0</span>  </span><br><span class="line">            <span class="keyword">for</span> j <span class="keyword">in</span> range(n):  </span><br><span class="line">                <span class="keyword">if</span> M[i][j] == <span class="string">'0'</span>:  </span><br><span class="line">                    w, h[j], ndp[j+<span class="number">1</span>] = <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>  </span><br><span class="line">                <span class="keyword">else</span>:  </span><br><span class="line">                    w, h[j] = w+<span class="number">1</span>, h[j]+<span class="number">1</span>  </span><br><span class="line">                    ndp[j+<span class="number">1</span>] = min(w, h[j], dp[j]+<span class="number">1</span>)  </span><br><span class="line">                    max_l = max(max_l, ndp[j+<span class="number">1</span>])  </span><br><span class="line">            dp, ndp = ndp, [<span class="number">0</span>] * (n+<span class="number">1</span>)  </span><br><span class="line">        <span class="keyword">return</span> max_l * max_l</span><br></pre></td></tr></table></figure>
</li>
</ol>
</li>
<li><ol>
<li><p>Interleaving String</p>
<p><a href="https://leetcode.com/problems/interleaving-string/discuss/673764/Python-Concise-DP-Bottom-up-%2B-Top-down" target="_blank" rel="noopener">https://leetcode.com/problems/interleaving-string/discuss/673764/Python-Concise-DP-Bottom-up-%2B-Top-down</a></p>
</li>
</ol>
</li>
<li><ol>
<li><p>Stone Game II</p>
<p>contest/competitive games  </p>
<p><a href="https://leetcode.com/problems/stone-game-ii/discuss/345230/Python-DP-Solution" target="_blank" rel="noopener">https://leetcode.com/problems/stone-game-ii/discuss/345230/Python-DP-Solution</a></p>
</li>
</ol>
</li>
<li><ol>
<li><p>Split Array Largest Sum</p>
<p><a href="https://leetcode.com/problems/split-array-largest-sum/discuss/676272/Python-Concise-DP-Bottom-up-%2B-Top-down" target="_blank" rel="noopener">https://leetcode.com/problems/split-array-largest-sum/discuss/676272/Python-Concise-DP-Bottom-up-%2B-Top-down</a></p>
</li>
</ol>
</li>
<li><ol>
<li><p>Scramble String</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span>  </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">isScramble</span><span class="params">(self, s1: str, s2: str)</span> -&gt; bool:</span>  </span><br><span class="line">        <span class="comment"># Top down: Time O(N^3) Space O(N^3)  </span></span><br><span class="line">        <span class="keyword">import</span> functools  </span><br><span class="line"><span class="meta">        @functools.lru_cache(None)  </span></span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">dp</span><span class="params">(s1, s2, rev)</span>:</span>  </span><br><span class="line">            <span class="keyword">if</span> s1 == s2 <span class="keyword">or</span> s1 == s2[::<span class="number">-1</span>]: <span class="keyword">return</span> <span class="literal">True</span>  </span><br><span class="line">            <span class="keyword">return</span> any(dp(s1[:i], s2[:i], <span class="literal">True</span>) <span class="keyword">and</span> dp(s1[i:], s2[i:], <span class="literal">True</span>) <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">1</span>, len(s1))) <span class="keyword">or</span> \  </span><br><span class="line">                   (rev <span class="keyword">and</span> dp(s1, s2[::<span class="number">-1</span>], <span class="keyword">not</span> rev))  </span><br><span class="line">        <span class="keyword">return</span> dp(s1, s2, <span class="literal">True</span>)</span><br></pre></td></tr></table></figure>
</li>
</ol>
</li>
<li><ol>
<li><p>Count Different Palindromic Subsequences</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span>  </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">countPalindromicSubsequences</span><span class="params">(self, S)</span>:</span>  </span><br><span class="line">        <span class="keyword">import</span> functools  </span><br><span class="line"><span class="meta">        @functools.lru_cache(None)  </span></span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">dp</span><span class="params">(start, end)</span>:</span>     <span class="comment">#returns the number of distinct palindromes in S[start:end]  </span></span><br><span class="line">            count = <span class="number">0</span>  </span><br><span class="line">            segment = S[start:end]  </span><br><span class="line">            <span class="keyword">for</span> x <span class="keyword">in</span> <span class="string">'abcd'</span>:  </span><br><span class="line">                <span class="keyword">try</span>:  </span><br><span class="line">                    i = segment.index(x) + start  <span class="comment"># the starting index in S  </span></span><br><span class="line">                    j = segment.rindex(x) + start <span class="comment"># the ending index in S  </span></span><br><span class="line">                <span class="keyword">except</span>:  </span><br><span class="line">                    <span class="keyword">continue</span>  </span><br><span class="line">                count += dp(i+<span class="number">1</span>, j) + <span class="number">2</span> <span class="keyword">if</span> i != j <span class="keyword">else</span> <span class="number">1</span>  </span><br><span class="line">            <span class="keyword">return</span> count % <span class="number">1000000007</span>  </span><br><span class="line">        <span class="keyword">return</span> dp(<span class="number">0</span>, len(S))</span><br></pre></td></tr></table></figure>
</li>
</ol>
</li>
<li><ol>
<li><p>Minimum Cost Tree From Leaf Values</p>
<p><a href="https://leetcode.com/problems/minimum-cost-tree-from-leaf-values/discuss/667294/Python-Concise-DP-Bottom-up-%2B-Top-down" target="_blank" rel="noopener">https://leetcode.com/problems/minimum-cost-tree-from-leaf-values/discuss/667294/Python-Concise-DP-Bottom-up-%2B-Top-down</a></p>
</li>
</ol>
</li>
</ul>
<h3 id="Three-dimension"><a href="#Three-dimension" class="headerlink" title="Three dimension"></a>Three dimension</h3><ul>
<li><ol>
<li><p>Paint House III</p>
<p><a href="https://leetcode.com/problems/paint-house-iii/discuss/674485/Python-Solution" target="_blank" rel="noopener">https://leetcode.com/problems/paint-house-iii/discuss/674485/Python-Solution</a></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span>  </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">minCost</span><span class="params">(self, houses: List[int], cost: List[List[int]], m: int, n: int, target: int)</span> -&gt; int:</span>  </span><br><span class="line">        <span class="string">'''  </span></span><br><span class="line"><span class="string">        # Top down: Time O(m*n*t*n) Space O(m*n*t)  </span></span><br><span class="line"><span class="string">        dp = &#123;&#125;# idx, t, color  </span></span><br><span class="line"><span class="string">        def helper(x, t, c):  </span></span><br><span class="line"><span class="string">            if (x, t ,c) in dp: return dp[x, t, c]  </span></span><br><span class="line"><span class="string">            if x &lt; t or t &lt; 1 or x &lt; 0: return float('inf')  </span></span><br><span class="line"><span class="string">            my_cost = cost[x][c] if houses[x] == 0 else (0 if houses[x] == c+1 else float('inf'))  </span></span><br><span class="line"><span class="string">            if x == 0 and t == 1: return my_cost  </span></span><br><span class="line"><span class="string">            dp[x, t, c] = helper(x-1, t, c) + my_cost  </span></span><br><span class="line"><span class="string">            for i in range(n):  </span></span><br><span class="line"><span class="string">                if i == c: continue  </span></span><br><span class="line"><span class="string">                dp[x, t, c] = min(dp[x, t, c], helper(x-1, t-1, i)+my_cost)  </span></span><br><span class="line"><span class="string">            return dp[x, t, c]  </span></span><br><span class="line"><span class="string">        rst = min(helper(m-1, target, c) for c in range(n))  </span></span><br><span class="line"><span class="string">        return rst if rst != float('inf') else -1  </span></span><br><span class="line"><span class="string">        '''</span>  </span><br><span class="line">        <span class="comment"># Bottom up: Time O(m*n*t*n) Space O(n*t)  </span></span><br><span class="line">        dp, ndp = &#123;(<span class="number">0</span>,<span class="number">0</span>): <span class="number">0</span>&#125;, &#123;&#125; <span class="comment"># (color, group)  </span></span><br><span class="line">        <span class="keyword">for</span> i, c <span class="keyword">in</span> enumerate(houses):  </span><br><span class="line">            <span class="keyword">for</span> cc <span class="keyword">in</span> (range(<span class="number">1</span>, n+<span class="number">1</span>) <span class="keyword">if</span> c == <span class="number">0</span> <span class="keyword">else</span> [c]):  </span><br><span class="line">                <span class="keyword">for</span> c_prev, g_prev <span class="keyword">in</span> dp:  </span><br><span class="line">                    g_new = g_prev + (cc != c_prev)  </span><br><span class="line">                    <span class="keyword">if</span> g_new &gt; target: <span class="keyword">continue</span>  </span><br><span class="line">                    ndp[cc, g_new] = min(ndp.get((cc, g_new), float(<span class="string">'inf'</span>)), dp[c_prev, g_prev] + (cost[i][cc<span class="number">-1</span>] <span class="keyword">if</span> c == <span class="number">0</span> <span class="keyword">else</span> <span class="number">0</span>))  </span><br><span class="line">            dp, ndp = ndp, &#123;&#125;  </span><br><span class="line">          </span><br><span class="line">        <span class="keyword">return</span> min([dp[c, g] <span class="keyword">for</span> c, g <span class="keyword">in</span> dp <span class="keyword">if</span> g == target] <span class="keyword">or</span> [<span class="number">-1</span>])</span><br></pre></td></tr></table></figure>
</li>
</ol>
</li>
</ul>
<h2 id="Tree"><a href="#Tree" class="headerlink" title="Tree"></a>Tree</h2><p>Recursive! Recursive! Recursive!  </p>
<h2 id="pre-in-post-order-traversal"><a href="#pre-in-post-order-traversal" class="headerlink" title="pre/in/post order traversal"></a>pre/in/post order traversal</h2><p><a href="https://yonglife.com/2019/05/04/binary-tree-traversal-updated/">https://yonglife.com/2019/05/04/binary-tree-traversal-updated/</a>  </p>
<h2 id="Recursive-to-Non-recursive"><a href="#Recursive-to-Non-recursive" class="headerlink" title="Recursive to Non-recursive"></a>Recursive to Non-recursive</h2><ul>
<li><a href="https://leetcode.com/problems/lowest-common-ancestor-of-a-binary-tree/discuss/721668/Python-Concise-Recursive-%2B-Non-recursive" target="_blank" rel="noopener">236. Lowest Common Ancestor of a Binary Tree</a>  </li>
<li><a href="[https://leetcode.com/problems/distribute-coins-in-binary-tree/discuss/719810/Python-Concise-Anyone-has-interest-in-non-recursive-implementation](https://leetcode.com/problems/distribute-coins-in-binary-tree/discuss/719810/Python-Concise-Anyone-has-interest-in-non-recursive-implementation">979. Distribute Coins in Binary Tree</a>)  </li>
<li><a href="https://leetcode.com/problems/serialize-and-deserialize-binary-tree/discuss/719519/python-concise-recursive-non-recursive" target="_blank" rel="noopener">297. Serialize and Deserialize Binary Tree</a>  </li>
<li><a href="https://leetcode.com/problems/convert-sorted-array-to-binary-search-tree/discuss/719416/python-concise-recursive-non-recursive" target="_blank" rel="noopener">108. Convert Sorted Array to Binary Search Tree</a>  </li>
<li><a href="https://leetcode.com/problems/construct-binary-tree-from-preorder-and-inorder-traversal/discuss/719653/Python-Concise-Recursive-%2B-Optimized-recursive-%2B-Non-recursive" target="_blank" rel="noopener">105. Construct Binary Tree from Preorder and Inorder Traversal</a>  </li>
</ul>
<h3 id="DFS"><a href="#DFS" class="headerlink" title="DFS"></a>DFS</h3><ul>
<li><ol>
<li><p>Construct String from Binary Tree</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Definition for a binary tree node.  </span></span><br><span class="line"><span class="comment"># class TreeNode:  </span></span><br><span class="line"><span class="comment">#     def __init__(self, val=0, left=None, right=None):  </span></span><br><span class="line"><span class="comment">#         self.val = val  </span></span><br><span class="line"><span class="comment">#         self.left = left  </span></span><br><span class="line"><span class="comment">#         self.right = right  </span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span>  </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">tree2str</span><span class="params">(self, t: TreeNode)</span> -&gt; str:</span>  </span><br><span class="line">        <span class="keyword">if</span> t == <span class="literal">None</span>:  </span><br><span class="line">            <span class="keyword">return</span> <span class="string">''</span>  </span><br><span class="line">        l, r = self.tree2str(t.left), self.tree2str(t.right)  </span><br><span class="line">        <span class="keyword">return</span> <span class="string">f'<span class="subst">&#123;t.val&#125;</span>'</span> + (<span class="string">f'(<span class="subst">&#123;l&#125;</span>)'</span> <span class="keyword">if</span> l <span class="keyword">or</span> r <span class="keyword">else</span> <span class="string">''</span>) + (<span class="string">f'(<span class="subst">&#123;r&#125;</span>)'</span> <span class="keyword">if</span> r <span class="keyword">else</span> <span class="string">''</span>)</span><br></pre></td></tr></table></figure>
</li>
</ol>
</li>
<li><ol>
<li><p>Same Tree</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span>  </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">isSameTree</span><span class="params">(self, p: TreeNode, q: TreeNode)</span> -&gt; bool:</span>  </span><br><span class="line">        <span class="string">'''  </span></span><br><span class="line"><span class="string">        # Recursive: Time O(N) Space O(N)  </span></span><br><span class="line"><span class="string">        if not p and not q: return True  </span></span><br><span class="line"><span class="string">        if not (p and q and p.val == q.val): return False  </span></span><br><span class="line"><span class="string">        return self.isSameTree(p.left, q.left) and self.isSameTree(p.right, q.right)  </span></span><br><span class="line"><span class="string">        '''</span>  </span><br><span class="line">        <span class="comment"># Non-recursive: Time O(N) Space O(N)  </span></span><br><span class="line">        stack = []  </span><br><span class="line">        <span class="keyword">while</span> p <span class="keyword">or</span> q <span class="keyword">or</span> stack:  </span><br><span class="line">            <span class="keyword">while</span> p <span class="keyword">or</span> q:  </span><br><span class="line">                <span class="keyword">if</span> <span class="keyword">not</span> ((p <span class="keyword">and</span> q) <span class="keyword">and</span> p.val == q.val): <span class="keyword">return</span> <span class="literal">False</span>  </span><br><span class="line">                stack.append((p.right, q.right))  </span><br><span class="line">                p, q = p.left, q.left  </span><br><span class="line">            p, q = stack.pop()  </span><br><span class="line">        <span class="keyword">return</span> <span class="literal">True</span></span><br></pre></td></tr></table></figure>
</li>
</ol>
</li>
<li><ol>
<li><p>Symmetric Tree</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span>  </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">isSymmetric</span><span class="params">(self, root: TreeNode)</span> -&gt; bool:</span>  </span><br><span class="line">        <span class="string">'''  </span></span><br><span class="line"><span class="string">        # Recursive  </span></span><br><span class="line"><span class="string">        def dfs(a, b):  </span></span><br><span class="line"><span class="string">            if ((a is None) ^ ( b is None)) or (a and a.val != b.val): return False  </span></span><br><span class="line"><span class="string">            if not a: return True  </span></span><br><span class="line"><span class="string">            return dfs(a.left, b.right) and dfs(a.right, b.left)  </span></span><br><span class="line"><span class="string">        return dfs(root.left, root.right) if root else True  </span></span><br><span class="line"><span class="string">        '''</span>  </span><br><span class="line">        <span class="comment"># Non-recursive  </span></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> root: <span class="keyword">return</span> <span class="literal">True</span>  </span><br><span class="line">        stack = [(root.left, root.right)]  </span><br><span class="line">        <span class="keyword">while</span> stack:  </span><br><span class="line">            a, b = stack.pop()  </span><br><span class="line">            <span class="keyword">if</span> (a <span class="keyword">is</span> <span class="literal">None</span>) ^ (b <span class="keyword">is</span> <span class="literal">None</span>): <span class="keyword">return</span> <span class="literal">False</span>  </span><br><span class="line">            <span class="keyword">if</span> a <span class="keyword">and</span> a.val != b.val: <span class="keyword">return</span> <span class="literal">False</span>  </span><br><span class="line">            <span class="keyword">if</span> <span class="keyword">not</span> a: <span class="keyword">continue</span>  </span><br><span class="line">              </span><br><span class="line">            stack.append((a.left, b.right))  </span><br><span class="line">            stack.append((a.right, b.left))  </span><br><span class="line">        <span class="keyword">return</span> <span class="literal">True</span></span><br></pre></td></tr></table></figure>
</li>
</ol>
</li>
<li><ol>
<li><p>Binary Search Tree Iterator</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Definition for a binary tree node.  </span></span><br><span class="line"><span class="comment"># class TreeNode:  </span></span><br><span class="line"><span class="comment">#     def __init__(self, val=0, left=None, right=None):  </span></span><br><span class="line"><span class="comment">#         self.val = val  </span></span><br><span class="line"><span class="comment">#         self.left = left  </span></span><br><span class="line"><span class="comment">#         self.right = right  </span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">BSTIterator</span>:</span>  </span><br><span class="line">  </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, root: TreeNode)</span>:</span>  </span><br><span class="line">        self.stack = []  </span><br><span class="line">        self._next(root)  </span><br><span class="line">          </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">_next</span><span class="params">(self, node)</span>:</span>  </span><br><span class="line">        <span class="keyword">while</span> node:  </span><br><span class="line">            self.stack.append(node)  </span><br><span class="line">            node = node.left  </span><br><span class="line">  </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">next</span><span class="params">(self)</span> -&gt; int:</span>  </span><br><span class="line">        <span class="string">"""  </span></span><br><span class="line"><span class="string">        @return the next smallest number  </span></span><br><span class="line"><span class="string">        """</span>  </span><br><span class="line">        node = self.stack.pop()  </span><br><span class="line">        self._next(node.right)  </span><br><span class="line">        <span class="keyword">return</span> node.val  </span><br><span class="line">  </span><br><span class="line">  </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">hasNext</span><span class="params">(self)</span> -&gt; bool:</span>  </span><br><span class="line">        <span class="string">"""  </span></span><br><span class="line"><span class="string">        @return whether we have a next smallest number  </span></span><br><span class="line"><span class="string">        """</span></span><br></pre></td></tr></table></figure>
</li>
</ol>
</li>
<li><ol>
<li><p>Generate Parentheses</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span>  </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">generateParenthesis</span><span class="params">(self, n: int)</span> -&gt; List[str]:</span>  </span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">dfs</span><span class="params">(l, r, s)</span>:</span>  </span><br><span class="line">            <span class="keyword">if</span> <span class="keyword">not</span> l <span class="keyword">and</span> <span class="keyword">not</span> r:  </span><br><span class="line">                rst.append(s)  </span><br><span class="line">                <span class="keyword">return</span>  </span><br><span class="line">            <span class="keyword">if</span> l:  </span><br><span class="line">                dfs(l<span class="number">-1</span>, r, s+<span class="string">'('</span>)  </span><br><span class="line">            <span class="keyword">if</span> l &lt; r:  </span><br><span class="line">                dfs(l, r<span class="number">-1</span>, s+<span class="string">')'</span>)  </span><br><span class="line">        rst = []  </span><br><span class="line">        dfs(n, n, <span class="string">''</span>)  </span><br><span class="line">        <span class="keyword">return</span> rst</span><br></pre></td></tr></table></figure>
</li>
</ol>
</li>
<li><ol>
<li><p>Convert Sorted Array to Binary Search Tree</p>
<p><a href="https://leetcode.com/problems/convert-sorted-array-to-binary-search-tree/discuss/719416/Python-Concise-Recursive-%2B-Non-recursive" target="_blank" rel="noopener">https://leetcode.com/problems/convert-sorted-array-to-binary-search-tree/discuss/719416/Python-Concise-Recursive-%2B-Non-recursive</a></p>
</li>
</ol>
</li>
<li><ol>
<li><p>Construct Binary Tree from Preorder and Inorder Traversal</p>
<p><a href="https://leetcode.com/problems/construct-binary-tree-from-preorder-and-inorder-traversal/discuss/719653/Python-Concise-Recursive-%2B-Optimized-recursive-%2B-Non-recursive" target="_blank" rel="noopener">https://leetcode.com/problems/construct-binary-tree-from-preorder-and-inorder-traversal/discuss/719653/Python-Concise-Recursive-%2B-Optimized-recursive-%2B-Non-recursive</a></p>
</li>
</ol>
</li>
<li><ol>
<li><p>Serialize and Deserialize Binary Tree</p>
<p><a href="https://leetcode.com/problems/serialize-and-deserialize-binary-tree/discuss/719519/Python-Concise-Recursive-%2B-Non-recursive" target="_blank" rel="noopener">https://leetcode.com/problems/serialize-and-deserialize-binary-tree/discuss/719519/Python-Concise-Recursive-%2B-Non-recursive</a></p>
</li>
</ol>
</li>
<li><ol>
<li><p>Remove Invalid Parentheses</p>
<p>DFS is simple. It is only the matter of how many unnecessary subtree we can cut.  </p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span>  </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">removeInvalidParentheses</span><span class="params">(self, s: str)</span> -&gt; List[str]:</span>  </span><br><span class="line">        <span class="comment"># BFS Time: 2^N Space: 2^N  </span></span><br><span class="line">            l = <span class="number">0</span>  </span><br><span class="line">            <span class="keyword">for</span> c <span class="keyword">in</span> s:  </span><br><span class="line">                <span class="keyword">if</span> c == <span class="string">'('</span>:  </span><br><span class="line">                    l += <span class="number">1</span>  </span><br><span class="line">                <span class="keyword">elif</span> c == <span class="string">')'</span>:  </span><br><span class="line">                    l -= <span class="number">1</span>  </span><br><span class="line">                <span class="keyword">if</span> l &lt; <span class="number">0</span>: <span class="keyword">return</span> <span class="literal">False</span>  </span><br><span class="line">            <span class="keyword">return</span> l == <span class="number">0</span>  </span><br><span class="line">        q, nq = [(s, <span class="number">0</span>)], []  </span><br><span class="line">        rst = []  </span><br><span class="line">        <span class="keyword">while</span> q:  </span><br><span class="line">            <span class="keyword">for</span> cur <span class="keyword">in</span> q:  </span><br><span class="line">                <span class="keyword">if</span> is_valid(cur[<span class="number">0</span>]):  </span><br><span class="line">                    rst.append(cur[<span class="number">0</span>])  </span><br><span class="line">                <span class="keyword">else</span>:  </span><br><span class="line">                    s, cur_idx = cur  </span><br><span class="line">                    <span class="keyword">for</span> i <span class="keyword">in</span> range(cur_idx, len(s)):  </span><br><span class="line">                        <span class="keyword">if</span> i == cur_idx <span class="keyword">or</span> s[i<span class="number">-1</span>] != s[i]:  </span><br><span class="line">                            nq.append((s[:i]+s[i+<span class="number">1</span>:], i))      </span><br><span class="line">            <span class="keyword">if</span> rst:  </span><br><span class="line">                <span class="keyword">break</span>  </span><br><span class="line">            q, nq = nq, []  </span><br><span class="line">        <span class="keyword">return</span> rst  </span><br><span class="line"></span><br><span class="line">        <span class="string">'''  </span></span><br><span class="line"><span class="string">        # DFS Time: 2^N Space N  </span></span><br><span class="line"><span class="string">        rm_l, rm_r = 0, 0  </span></span><br><span class="line"><span class="string">        for c in s:  </span></span><br><span class="line"><span class="string">            if c == '(':  </span></span><br><span class="line"><span class="string">                rm_l += 1  </span></span><br><span class="line"><span class="string">            elif c == ')':  </span></span><br><span class="line"><span class="string">                if rm_l &gt; 0:  </span></span><br><span class="line"><span class="string">                    rm_l -= 1  </span></span><br><span class="line"><span class="string">                else:  </span></span><br><span class="line"><span class="string">                    rm_r += 1  </span></span><br><span class="line"><span class="string">        def dfs(cur, idx, rm_l, rm_r, l):  </span></span><br><span class="line"><span class="string">            if idx == len(s) or rm_l &lt; 0 or rm_r &lt; 0 or l &lt; 0:  </span></span><br><span class="line"><span class="string">                if rm_l == 0 and rm_r == 0 and l == 0:  </span></span><br><span class="line"><span class="string">                    rst.add(cur)  </span></span><br><span class="line"><span class="string">                return  </span></span><br><span class="line"><span class="string">            if s[idx] == '(':  </span></span><br><span class="line"><span class="string">                dfs(cur, idx+1, rm_l-1, rm_r, l)  </span></span><br><span class="line"><span class="string">                dfs(cur+s[idx], idx+1, rm_l, rm_r, l+1)  </span></span><br><span class="line"><span class="string">            elif s[idx] == ')':  </span></span><br><span class="line"><span class="string">                dfs(cur, idx+1, rm_l, rm_r-1, l)  </span></span><br><span class="line"><span class="string">                dfs(cur+s[idx], idx+1, rm_l, rm_r, l-1)  </span></span><br><span class="line"><span class="string">            else:  </span></span><br><span class="line"><span class="string">                dfs(cur+s[idx], idx+1, rm_l, rm_r, l)  </span></span><br><span class="line"><span class="string">        rst = set()  </span></span><br><span class="line"><span class="string">        dfs('', 0, rm_l, rm_r, 0)  </span></span><br><span class="line"><span class="string">        return list(rst) if rst else [""]  </span></span><br><span class="line"><span class="string">        '''</span></span><br></pre></td></tr></table></figure>
</li>
</ol>
</li>
<li><ol>
<li><p>Merge Two Binary Trees</p>
<p><a href="https://leetcode.com/problems/merge-two-binary-trees/discuss/718497/Python-Concise-Recursive-%2B-Non-recursive" target="_blank" rel="noopener">https://leetcode.com/problems/merge-two-binary-trees/discuss/718497/Python-Concise-Recursive-%2B-Non-recursive</a></p>
</li>
</ol>
</li>
</ul>
<h3 id="BFS"><a href="#BFS" class="headerlink" title="BFS"></a>BFS</h3><ul>
<li><ol>
<li><p>Binary Tree Right Side View</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span>  </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">rightSideView</span><span class="params">(self, root: TreeNode)</span> -&gt; List[int]:</span>  </span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> root: <span class="keyword">return</span> []  </span><br><span class="line">        q, nq, ret = deque([root]), deque(), [root.val]  </span><br><span class="line">        <span class="keyword">while</span> q:  </span><br><span class="line">            cur = q.popleft()  </span><br><span class="line">            <span class="keyword">if</span> cur.left: nq.append(cur.left)  </span><br><span class="line">            <span class="keyword">if</span> cur.right: nq.append(cur.right)  </span><br><span class="line">              </span><br><span class="line">            <span class="keyword">if</span> <span class="keyword">not</span> q <span class="keyword">and</span> nq:  </span><br><span class="line">                ret.append(nq[<span class="number">-1</span>].val)  </span><br><span class="line">                q, nq = nq, deque()  </span><br><span class="line">        <span class="keyword">return</span> ret</span><br></pre></td></tr></table></figure>
</li>
</ol>
</li>
<li><ol>
<li>Remove Invalid Parentheses</li>
</ol>
</li>
<li><ol>
<li><p>Word Ladder II</p>
<p><a href="https://leetcode.com/problems/word-ladder-ii/discuss/269012/Python-BFS%2BBacktrack-Greatly-Improved-by-bi-directional-BFS" target="_blank" rel="noopener">https://leetcode.com/problems/word-ladder-ii/discuss/269012/Python-BFS%2BBacktrack-Greatly-Improved-by-bi-directional-BFS</a></p>
</li>
</ol>
</li>
<li><ol>
<li><p>Perfect Squares</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span>  </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">numSquares</span><span class="params">(self, n: int)</span> -&gt; int:</span>  </span><br><span class="line">        <span class="keyword">if</span> n &lt;= <span class="number">2</span>: <span class="keyword">return</span> n  </span><br><span class="line">        square_table = [i*i <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">1</span>, int(n**<span class="number">0.5</span>)+<span class="number">1</span>)]  </span><br><span class="line">        q, nq = [n], []  </span><br><span class="line">        rst = <span class="number">0</span>  </span><br><span class="line">        <span class="keyword">while</span> q:  </span><br><span class="line">            rst += <span class="number">1</span>  </span><br><span class="line">            <span class="keyword">for</span> x <span class="keyword">in</span> q:  </span><br><span class="line">                <span class="keyword">for</span> i <span class="keyword">in</span> square_table:  </span><br><span class="line">                    <span class="keyword">if</span> i == x:  </span><br><span class="line">                        <span class="keyword">return</span> rst  </span><br><span class="line">                    <span class="keyword">elif</span> i &gt; x:  </span><br><span class="line">                        <span class="keyword">break</span>  </span><br><span class="line">                    nq.append(x-i)  </span><br><span class="line">            q, nq = nq, []  </span><br><span class="line">        <span class="keyword">return</span> rst</span><br></pre></td></tr></table></figure>
</li>
</ol>
</li>
</ul>
<h3 id="Trie"><a href="#Trie" class="headerlink" title="Trie"></a>Trie</h3><ul>
<li><ol>
<li><p>Search Suggestions System</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Node</span>:</span>  </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self)</span>:</span>  </span><br><span class="line">        self.words = []  </span><br><span class="line">        self.next = defaultdict(Node)  </span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span>  </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">suggestedProducts</span><span class="params">(self, products: List[str], searchWord: str)</span> -&gt; List[List[str]]:</span>  </span><br><span class="line">        products = sorted(products)  </span><br><span class="line">        tries = Node()  </span><br><span class="line">        <span class="keyword">for</span> product <span class="keyword">in</span> products:  </span><br><span class="line">            cur = tries  </span><br><span class="line">            <span class="keyword">for</span> c <span class="keyword">in</span> product:  </span><br><span class="line">                cur = cur.next[c]  </span><br><span class="line">                cur.words.append(product)  </span><br><span class="line">        ret, cur = [], tries  </span><br><span class="line">        <span class="keyword">for</span> c <span class="keyword">in</span> searchWord:  </span><br><span class="line">            cur = cur.next[c]  </span><br><span class="line">            ret.append(cur.words[:<span class="number">3</span>])  </span><br><span class="line">        <span class="keyword">return</span> ret</span><br></pre></td></tr></table></figure>
</li>
</ol>
</li>
</ul>
<h3 id="Segment-Tree"><a href="#Segment-Tree" class="headerlink" title="Segment Tree"></a>Segment Tree</h3><h3 id="Binary-Lifting"><a href="#Binary-Lifting" class="headerlink" title="Binary Lifting"></a>Binary Lifting</h3><ul>
<li><ol>
<li>Kth Ancestor of a Tree Node</li>
</ol>
</li>
</ul>
<h3 id="Binary-Index-Tree"><a href="#Binary-Index-Tree" class="headerlink" title="Binary Index Tree"></a>Binary Index Tree</h3><blockquote>
<p>Wikipedia: A Fenwick tree or binary indexed tree is a data structure that can efficiently update elements and calculate prefix sums in a table of numbers.  </p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">BIT</span>:</span>  </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, size)</span>:</span>  </span><br><span class="line">        self.arr = [<span class="number">0</span>] * size  </span><br><span class="line">      </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">add</span><span class="params">(self, x, delta)</span>:</span>  </span><br><span class="line">        <span class="keyword">while</span> x &lt; len(self.arr):  </span><br><span class="line">            self.arr[x] += delta  </span><br><span class="line">            x += self._lowbit(x)  </span><br><span class="line">      </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">sum</span><span class="params">(self, x)</span>:</span>  </span><br><span class="line">        ret = <span class="number">0</span>  </span><br><span class="line">        <span class="keyword">while</span> x:  </span><br><span class="line">            ret += self.arr[x]  </span><br><span class="line">            x -= self._lowbit(x)  </span><br><span class="line">        <span class="keyword">return</span> ret  </span><br><span class="line">      </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">_lowbit</span><span class="params">(self, x)</span>:</span>  </span><br><span class="line">        <span class="keyword">return</span> x &amp; (-x)</span><br></pre></td></tr></table></figure>
<ul>
<li><ol>
<li>Minimum Possible Integer After at Most K Adjacent Swaps On Digits</li>
</ol>
</li>
</ul>

    </div>

    
    
    

      <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/Algorithm/" rel="tag"># Algorithm</a>
              <a href="/tags/Leetcode/" rel="tag"># Leetcode</a>
          </div>

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/2020/06/21/weekly-contest-194/" rel="prev" title="Weekly Contest 194">
      <i class="fa fa-chevron-left"></i> Weekly Contest 194
    </a></div>
      <div class="post-nav-item">
    <a href="/2020/07/04/Convert-Recursive-algo-into-Non-recursive/" rel="next" title="Convert Recursive algo into Non-recursive">
      Convert Recursive algo into Non-recursive <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  



          </div>
          
    <div class="comments" id="valine-comments"></div>

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#Leetcode"><span class="nav-number">1.</span> <span class="nav-text">Leetcode</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#List"><span class="nav-number">1.1.</span> <span class="nav-text">List</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#I-do-not-know…"><span class="nav-number">1.1.1.</span> <span class="nav-text">I do not know….</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Pure-programming"><span class="nav-number">1.1.2.</span> <span class="nav-text">Pure programming</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Palindromic"><span class="nav-number">1.1.3.</span> <span class="nav-text">Palindromic</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Math"><span class="nav-number">1.1.4.</span> <span class="nav-text">Math</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Sliding-window"><span class="nav-number">1.1.5.</span> <span class="nav-text">Sliding window</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Heap-sort-Priority-Queue"><span class="nav-number">1.1.6.</span> <span class="nav-text">Heap sort &#x2F; Priority Queue</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Binary-search"><span class="nav-number">1.1.7.</span> <span class="nav-text">Binary search</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#KMP"><span class="nav-number">1.1.8.</span> <span class="nav-text">KMP</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Dynamic-programming"><span class="nav-number">1.2.</span> <span class="nav-text">Dynamic programming</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Two-dimension"><span class="nav-number">1.2.1.</span> <span class="nav-text">Two dimension</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Three-dimension"><span class="nav-number">1.2.2.</span> <span class="nav-text">Three dimension</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Tree"><span class="nav-number">1.3.</span> <span class="nav-text">Tree</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#pre-in-post-order-traversal"><span class="nav-number">1.4.</span> <span class="nav-text">pre&#x2F;in&#x2F;post order traversal</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Recursive-to-Non-recursive"><span class="nav-number">1.5.</span> <span class="nav-text">Recursive to Non-recursive</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#DFS"><span class="nav-number">1.5.1.</span> <span class="nav-text">DFS</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#BFS"><span class="nav-number">1.5.2.</span> <span class="nav-text">BFS</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Trie"><span class="nav-number">1.5.3.</span> <span class="nav-text">Trie</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Segment-Tree"><span class="nav-number">1.5.4.</span> <span class="nav-text">Segment Tree</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Binary-Lifting"><span class="nav-number">1.5.5.</span> <span class="nav-text">Binary Lifting</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Binary-Index-Tree"><span class="nav-number">1.5.6.</span> <span class="nav-text">Binary Index Tree</span></a></li></ol></li></ol></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="Yong Cao"
      src="/images/headImage.jpg">
  <p class="site-author-name" itemprop="name">Yong Cao</p>
  <div class="site-description" itemprop="description">Record . Grow . Evolve</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">70</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">4</span>
        <span class="site-state-item-name">categories</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">49</span>
        <span class="site-state-item-name">tags</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/gfxcc" title="GitHub → https://github.com/gfxcc" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="/ycao181@gmail.com" title="E-Mail → ycao181@gmail.com"><i class="fa fa-envelope fa-fw"></i>E-Mail</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://www.youtube.com/channel/UC40c0IdmtXHqbCMEbO7wyuA" title="YouTube → https://www.youtube.com/channel/UC40c0IdmtXHqbCMEbO7wyuA" rel="noopener" target="_blank"><i class="fab fa-youtube fa-fw"></i>YouTube</a>
      </span>
  </div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2022</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Yong Cao</span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://mist.theme-next.org" class="theme-link" rel="noopener" target="_blank">NexT.Mist</a>
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/muse.js"></script>


<script src="/js/next-boot.js"></script>




  




  
<script src="/js/local-search.js"></script>













  

  


<script>
NexT.utils.loadComments(document.querySelector('#valine-comments'), () => {
  NexT.utils.getScript('//unpkg.com/valine/dist/Valine.min.js', () => {
    var GUEST = ['nick', 'mail', 'link'];
    var guest = 'nick,mail';
    guest = guest.split(',').filter(item => {
      return GUEST.includes(item);
    });
    new Valine({
      el         : '#valine-comments',
      verify     : false,
      notify     : false,
      appId      : 'NWYGSQVqbNICnwrnpHVDk3b2-MdYXbMMI',
      appKey     : 'l0UUEpwkB2hnqFma08XIqSwY',
      placeholder: "Just go go",
      avatar     : 'mm',
      meta       : guest,
      pageSize   : '10' || 10,
      visitor    : true,
      lang       : 'en' || 'zh-cn',
      path       : location.pathname,
      recordIP   : false,
      serverURLs : ''
    });
  }, window.Valine);
});
</script>

</body>
</html>
